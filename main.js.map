{"version":3,"file":"main.js","mappings":"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","sources":["webpack:///./src/app/App.tsx","webpack:///./src/main.tsx","webpack:///../../libs/equi/appliances/feature/src/index.ts","webpack:///../../libs/equi/appliances/feature/src/lib/equi-appliances-feature.tsx","webpack:///../../libs/equi/appliances/feature/src/lib/mockData.ts","webpack:///../../libs/equi/appliances/ui/src/index.ts","webpack:///../../libs/equi/appliances/ui/src/lib/appliance-bubble/appliance-bubble.tsx","webpack:///../../libs/equi/appliances/utils/src/index.ts","webpack:///../../libs/equi/appliances/utils/src/lib/arrange-appliances.ts","webpack:///../../libs/equi/menu/feature/src/index.ts","webpack:///../../libs/equi/menu/feature/src/lib/menu.tsx","webpack:///../../libs/equi/menu/ui/src/index.ts","webpack:///../../libs/equi/menu/ui/src/lib/appliance-button/appliance-button.tsx","webpack:///../../libs/equi/menu/ui/src/lib/close-button/close-button.tsx","webpack:///../../libs/equi/menu/ui/src/lib/energy-button/energy-button.tsx","webpack:///../../libs/equi/menu/ui/src/lib/schedule-button/schedule-button.tsx","webpack:///../../libs/equi/scheduler/feature/appliance-state/src/index.ts","webpack:///../../libs/equi/scheduler/feature/appliance-state/src/libs/appliance.event.ts","webpack:///../../libs/equi/scheduler/feature/appliance-state/src/libs/dial.event.ts","webpack:///../../libs/equi/scheduler/feature/shell/src/index.ts","webpack:///../../libs/equi/scheduler/feature/shell/src/lib/dataMock.ts","webpack:///../../libs/equi/scheduler/feature/shell/src/lib/equi-scheduler-feature.tsx","webpack:///../../libs/equi/scheduler/feature/shell/src/lib/scheduler-polar.tsx","webpack:///../../libs/equi/scheduler/ui/src/index.ts","webpack:///../../libs/equi/scheduler/ui/src/lib/appliance-power-consumption/appliance-power-consumption.tsx","webpack:///../../libs/equi/scheduler/ui/src/lib/appliance-schedule/appliance-schedule.tsx","webpack:///../../libs/equi/scheduler/ui/src/lib/appliance/appliance.tsx","webpack:///../../libs/equi/scheduler/ui/src/lib/battery-level/battery-level.tsx","webpack:///../../libs/equi/scheduler/ui/src/lib/dial-cursor/dial-cursor.tsx","webpack:///../../libs/equi/scheduler/ui/src/lib/dial-schedule/dial-schedule.tsx","webpack:///../../libs/equi/scheduler/ui/src/lib/dial-time-text/dial-time-text.tsx","webpack:///../../libs/equi/scheduler/ui/src/lib/polar/polar.tsx","webpack:///../../libs/equi/scheduler/ui/src/lib/power-consumption/power-consumption.tsx","webpack:///../../libs/equi/scheduler/ui/src/lib/power-production/power-production.tsx","webpack:///../../libs/equi/scheduler/ui/src/lib/text-clock/text-clock.tsx","webpack:///../../libs/equi/scheduler/utils/src/index.ts","webpack:///../../libs/equi/scheduler/utils/src/lib/angle-to-time.ts","webpack:///../../libs/equi/scheduler/utils/src/lib/date-to-angle.ts","webpack:///../../libs/equi/scheduler/utils/src/lib/get-appliance-time-range.ts","webpack:///../../libs/equi/scheduler/utils/src/lib/path-generator.ts","webpack:///../../libs/equi/scheduler/utils/src/lib/time-prettier.ts","webpack:///../../libs/equi/shared/data-access/src/api/enphase.api.ts","webpack:///../../libs/equi/shared/data-access/src/index.ts","webpack:///../../libs/equi/shared/features/src/clock/clock.event.ts","webpack:///../../libs/equi/shared/features/src/index.ts","webpack:///../../libs/equi/shared/features/src/power-state/power-state.event.ts","webpack:///../../libs/equi/shared/features/src/rotator/rotator.context.ts","webpack:///../../libs/equi/shared/features/src/rotator/rotator.event.ts","webpack:///../../libs/equi/shared/features/src/rotator/rotator.provider.tsx","webpack:///../../libs/equi/shared/ui/src/index.ts","webpack:///../../libs/equi/shared/ui/src/lib/data-bubble/data-bubble.tsx","webpack:///../../libs/equi/shared/utils/helper/src/index.ts","webpack:///../../libs/equi/shared/utils/helper/src/lib/get-device-icon.ts","webpack:///../../libs/equi/shared/utils/hooks/src/index.ts","webpack:///../../libs/equi/shared/utils/hooks/src/lib/useInterval.ts","webpack:///../../libs/equi/shared/utils/hooks/src/lib/useIsMounted.ts","webpack:///../../libs/equi/shared/utils/hooks/src/lib/useTimeout.ts","webpack:///../../libs/equi/shell/features/virtual-rotator/src/index.ts","webpack:///../../libs/equi/shell/features/virtual-rotator/src/lib/virtual-rotator.tsx","webpack:///../../libs/equi/shell/utils/src/index.ts","webpack:///../../libs/equi/shell/utils/src/lib/calc-angle.ts","webpack:///../../libs/equi/standby/feature/src/index.ts","webpack:///../../libs/equi/standby/feature/src/lib/standby.tsx","webpack:///../../libs/equi/standby/ui/src/index.ts","webpack:///../../libs/equi/standby/ui/src/lib/battery-bubble/battery-bubble.tsx","webpack:///../../libs/equi/standby/ui/src/lib/battery-wave/battery-wave.tsx","webpack:///../../libs/equi/standby/ui/src/lib/bubble/bubble.tsx","webpack:///../../libs/equi/standby/utils/src/index.ts","webpack:///../../libs/equi/standby/utils/src/lib/gradient-mapper.ts","webpack:///./src/app/App.css","webpack:///../../libs/equi/standby/feature/src/lib/standby.css","webpack:///./src/styles.css","webpack:///./src/app/App.css?32dd","webpack:///../../libs/equi/standby/feature/src/lib/standby.css?30d0"],"sourcesContent":["import { Subscribe } from '@react-rxjs/core';\nimport { dialAngle$, RotatorProvider } from '@virtue-equi/equi-shared-features';\nimport { Appliances } from '@virtue-equi/equi/appliances/feature';\nimport { Menu } from '@virtue-equi/equi/menu/feature';\nimport { Scheduler } from '@virtue-equi/equi-scheduler-feature-shell';\nimport { VirtualRotator } from '@virtue-equi/equi/shell/features/virtual-rotator';\nimport { Standby } from '@virtue-equi/equi/standby/feature';\nimport { memo } from 'react';\nimport {\n  BrowserRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from 'react-router-dom';\nimport './App.css';\n\nfunction App() {\n  return (\n    <Router basename={process.env.NX_EQUI_BASENAME}>\n      <div className=\"App\">\n        <svg\n          height=\"100%\"\n          width=\"100%\"\n          viewBox=\"0 0 1080 1080\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M540 1080C521.561 1080 503.134 1079.07 484.789 1077.21C466.791 1075.38 448.896 1072.65 431.171 1069.03C413.779 1065.47 396.371 1060.99 379.421 1055.72C362.676 1050.51 345.983 1044.41 329.808 1037.56C313.79 1030.79 297.908 1023.14 282.608 1014.83C267.419 1006.57 252.439 997.474 238.084 987.776C223.808 978.131 209.821 967.676 196.513 956.69C183.243 945.739 170.341 934.013 158.166 921.837C145.991 909.661 134.266 896.763 123.313 883.49C112.329 870.18 101.87 856.19 92.2271 841.919C82.5271 827.568 73.427 812.589 65.178 797.396C56.864 782.09 49.213 766.208 42.439 750.196C35.601 734.028 29.492 717.336 24.281 700.583C19.012 683.644 14.535 666.232 10.975 648.832C7.35327 631.107 4.6222 613.212 2.79199 595.214C0.933885 576.868 0.00204291 558.44 0 540C0.000838709 521.561 0.931317 503.134 2.78796 484.788C4.61811 466.79 7.34918 448.896 10.9709 431.171C14.5319 413.771 19.009 396.359 24.277 379.42C29.488 362.667 35.5971 345.975 42.4351 329.808C49.2101 313.79 56.861 297.908 65.174 282.608C73.4249 267.418 82.526 252.438 92.223 238.084C101.871 223.803 112.33 209.817 123.309 196.513C134.264 183.239 145.99 170.337 158.162 158.166C170.334 145.995 183.239 134.266 196.509 123.313C209.809 112.335 223.798 101.876 238.08 92.2271C252.427 82.5341 267.407 73.4331 282.604 65.1781C297.904 56.8641 313.789 49.2132 329.804 42.4391C345.973 35.6001 362.665 29.4901 379.417 24.2811C396.363 19.0101 413.774 14.5331 431.167 10.9741C448.892 7.35177 466.787 4.62069 484.785 2.79114C491.118 2.14814 497.585 1.6081 503.996 1.1911V329.024C501.621 329.424 499.223 329.873 496.868 330.355C483.099 333.176 469.644 337.352 456.698 342.824C443.972 348.212 431.798 354.82 420.346 362.555C408.982 370.238 398.377 378.988 388.675 388.686C378.977 398.388 370.227 408.993 362.544 420.357C354.809 431.809 348.202 443.983 342.813 456.708C337.341 469.654 333.164 483.109 330.343 496.878C327.451 511.07 325.996 525.517 326 540C325.996 554.486 327.453 568.935 330.347 583.128C333.168 596.897 337.345 610.353 342.817 623.299C348.206 636.024 354.813 648.198 362.548 659.65C370.231 671.015 378.981 681.62 388.679 691.321C398.381 701.02 408.986 709.77 420.35 717.453C431.801 725.188 443.975 731.796 456.7 737.183C469.646 742.655 483.101 746.832 496.87 749.652C511.064 752.547 525.514 754.003 540 754C554.486 754.003 568.935 752.547 583.129 749.652C596.898 746.832 610.354 742.655 623.3 737.183C636.025 731.795 648.199 725.187 659.65 717.452C671.015 709.769 681.62 701.019 691.322 691.32C701.02 681.618 709.77 671.013 717.453 659.649C725.188 648.198 731.795 636.025 737.184 623.3C742.656 610.354 746.833 596.898 749.654 583.129C752.548 568.935 754.004 554.486 754 540C754.003 525.514 752.547 511.065 749.653 496.871C746.832 483.103 742.655 469.647 737.183 456.701C731.795 443.976 725.187 431.802 717.452 420.35C709.769 408.986 701.019 398.381 691.321 388.679C681.619 378.981 671.014 370.231 659.649 362.548C648.198 354.813 636.025 348.205 623.3 342.817C610.354 337.345 596.899 333.169 583.13 330.348C580.774 329.866 578.376 329.418 576.001 329.017V1.18311C582.426 1.60511 588.89 2.14514 595.213 2.78314C613.211 4.61272 631.106 7.3438 648.83 10.9661C666.23 14.5261 683.643 19.0031 700.581 24.2731C717.334 29.4841 734.026 35.5932 750.194 42.4312C766.213 49.2062 782.094 56.8571 797.394 65.1701C812.585 73.4221 827.565 82.5221 841.917 92.2191C856.199 101.867 870.185 112.326 883.488 123.305C896.765 134.262 909.667 145.988 921.835 158.158C934.003 170.328 945.735 183.234 956.688 196.505C967.67 209.813 978.129 223.8 987.774 238.076C997.467 252.423 1006.57 267.404 1014.82 282.6C1023.14 297.907 1030.79 313.789 1037.56 329.8C1044.4 345.962 1050.51 362.654 1055.72 379.412C1060.99 396.35 1065.47 413.762 1069.03 431.163C1072.65 448.888 1075.38 466.782 1077.21 484.78C1079.07 503.128 1080 521.558 1080 540C1080 558.439 1079.07 576.866 1077.21 595.211C1075.38 613.209 1072.65 631.104 1069.03 648.829C1065.47 666.229 1060.99 683.64 1055.72 700.58C1050.51 717.33 1044.4 734.022 1037.56 750.193C1030.79 766.205 1023.14 782.087 1014.83 797.393C1006.57 812.593 997.468 827.572 987.777 841.916C978.124 856.203 967.665 870.19 956.691 883.487C945.738 896.758 934.011 909.66 921.838 921.834C909.665 934.008 896.766 945.734 883.491 956.687C870.191 967.664 856.204 978.123 841.92 987.773C827.575 997.464 812.595 1006.57 797.397 1014.82C782.09 1023.14 766.208 1030.79 750.197 1037.56C734.023 1044.4 717.33 1050.51 700.584 1055.72C683.636 1060.99 666.225 1065.47 648.833 1069.03C631.109 1072.65 613.214 1075.38 595.216 1077.21C576.869 1079.07 558.441 1080 540 1080Z\"\n            fill=\"black\"\n          />\n          <mask\n            id=\"mask0\"\n            mask-type=\"alpha\"\n            maskUnits=\"userSpaceOnUse\"\n            x=\"0\"\n            y=\"0\"\n            width=\"1080\"\n            height=\"1080\"\n          >\n            <path\n              d=\"M540 1080C521.561 1080 503.134 1079.07 484.789 1077.21C466.791 1075.38 448.896 1072.65 431.171 1069.03C413.779 1065.47 396.371 1060.99 379.421 1055.72C362.676 1050.51 345.983 1044.41 329.808 1037.56C313.79 1030.79 297.908 1023.14 282.608 1014.83C267.419 1006.57 252.439 997.474 238.084 987.776C223.808 978.131 209.821 967.676 196.513 956.69C183.243 945.739 170.341 934.013 158.166 921.837C145.991 909.661 134.266 896.763 123.313 883.49C112.329 870.18 101.87 856.19 92.2271 841.919C82.5271 827.568 73.427 812.589 65.178 797.396C56.864 782.09 49.213 766.208 42.439 750.196C35.601 734.028 29.492 717.336 24.281 700.583C19.012 683.644 14.535 666.232 10.975 648.832C7.35327 631.107 4.6222 613.212 2.79199 595.214C0.933885 576.868 0.00204291 558.44 0 540C0.000838709 521.561 0.931317 503.134 2.78796 484.788C4.61811 466.79 7.34918 448.896 10.9709 431.171C14.5319 413.771 19.009 396.359 24.277 379.42C29.488 362.667 35.5971 345.975 42.4351 329.808C49.2101 313.79 56.861 297.908 65.174 282.608C73.4249 267.418 82.526 252.438 92.223 238.084C101.871 223.803 112.33 209.817 123.309 196.513C134.264 183.239 145.99 170.337 158.162 158.166C170.334 145.995 183.239 134.266 196.509 123.313C209.809 112.335 223.798 101.876 238.08 92.2271C252.427 82.5341 267.407 73.4331 282.604 65.1781C297.904 56.8641 313.789 49.2132 329.804 42.4391C345.973 35.6001 362.665 29.4901 379.417 24.2811C396.363 19.0101 413.774 14.5331 431.167 10.9741C448.892 7.35177 466.787 4.62069 484.785 2.79114C491.118 2.14814 497.585 1.6081 503.996 1.1911V329.024C501.621 329.424 499.223 329.873 496.868 330.355C483.099 333.176 469.644 337.352 456.698 342.824C443.972 348.212 431.798 354.82 420.346 362.555C408.982 370.238 398.377 378.988 388.675 388.686C378.977 398.388 370.227 408.993 362.544 420.357C354.809 431.809 348.202 443.983 342.813 456.708C337.341 469.654 333.164 483.109 330.343 496.878C327.451 511.07 325.996 525.517 326 540C325.996 554.486 327.453 568.935 330.347 583.128C333.168 596.897 337.345 610.353 342.817 623.299C348.206 636.024 354.813 648.198 362.548 659.65C370.231 671.015 378.981 681.62 388.679 691.321C398.381 701.02 408.986 709.77 420.35 717.453C431.801 725.188 443.975 731.796 456.7 737.183C469.646 742.655 483.101 746.832 496.87 749.652C511.064 752.547 525.514 754.003 540 754C554.486 754.003 568.935 752.547 583.129 749.652C596.898 746.832 610.354 742.655 623.3 737.183C636.025 731.795 648.199 725.187 659.65 717.452C671.015 709.769 681.62 701.019 691.322 691.32C701.02 681.618 709.77 671.013 717.453 659.649C725.188 648.198 731.795 636.025 737.184 623.3C742.656 610.354 746.833 596.898 749.654 583.129C752.548 568.935 754.004 554.486 754 540C754.003 525.514 752.547 511.065 749.653 496.871C746.832 483.103 742.655 469.647 737.183 456.701C731.795 443.976 725.187 431.802 717.452 420.35C709.769 408.986 701.019 398.381 691.321 388.679C681.619 378.981 671.014 370.231 659.649 362.548C648.198 354.813 636.025 348.205 623.3 342.817C610.354 337.345 596.899 333.169 583.13 330.348C580.774 329.866 578.376 329.418 576.001 329.017V1.18311C582.426 1.60511 588.89 2.14514 595.213 2.78314C613.211 4.61272 631.106 7.3438 648.83 10.9661C666.23 14.5261 683.643 19.0031 700.581 24.2731C717.334 29.4841 734.026 35.5932 750.194 42.4312C766.213 49.2062 782.094 56.8571 797.394 65.1701C812.585 73.4221 827.565 82.5221 841.917 92.2191C856.199 101.867 870.185 112.326 883.488 123.305C896.765 134.262 909.667 145.988 921.835 158.158C934.003 170.328 945.735 183.234 956.688 196.505C967.67 209.813 978.129 223.8 987.774 238.076C997.467 252.423 1006.57 267.404 1014.82 282.6C1023.14 297.907 1030.79 313.789 1037.56 329.8C1044.4 345.962 1050.51 362.654 1055.72 379.412C1060.99 396.35 1065.47 413.762 1069.03 431.163C1072.65 448.888 1075.38 466.782 1077.21 484.78C1079.07 503.128 1080 521.558 1080 540C1080 558.439 1079.07 576.866 1077.21 595.211C1075.38 613.209 1072.65 631.104 1069.03 648.829C1065.47 666.229 1060.99 683.64 1055.72 700.58C1050.51 717.33 1044.4 734.022 1037.56 750.193C1030.79 766.205 1023.14 782.087 1014.83 797.393C1006.57 812.593 997.468 827.572 987.777 841.916C978.124 856.203 967.665 870.19 956.691 883.487C945.738 896.758 934.011 909.66 921.838 921.834C909.665 934.008 896.766 945.734 883.491 956.687C870.191 967.664 856.204 978.123 841.92 987.773C827.575 997.464 812.595 1006.57 797.397 1014.82C782.09 1023.14 766.208 1030.79 750.197 1037.56C734.023 1044.4 717.33 1050.51 700.584 1055.72C683.636 1060.99 666.225 1065.47 648.833 1069.03C631.109 1072.65 613.214 1075.38 595.216 1077.21C576.869 1079.07 558.441 1080 540 1080Z\"\n              fill=\"black\"\n            />\n          </mask>\n\n          <RotatorProvider>\n            <Switch>\n              <Route path=\"/appliances\">\n                <Appliances />\n              </Route>\n              <Route path=\"/scheduling\">\n                <Scheduler />\n              </Route>\n              <Route path=\"/menu\">\n                <Menu />\n              </Route>\n              <Route path=\"/standby\">\n                <Standby />\n              </Route>\n              <Redirect to=\"/standby\" />\n            </Switch>\n            <VirtualRotator />\n          </RotatorProvider>\n        </svg>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app/App';\nimport './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","export * from './lib/equi-appliances-feature';\n","import { useDialAngle } from '@virtue-equi/equi-shared-features';\nimport { ApplianceBubble } from '@virtue-equi/equi/appliances/ui';\nimport {\n  arrangeAppliances,\n  IApplianceBubble,\n} from '@virtue-equi/equi/appliances/utils';\nimport { DataBubble } from '@virtue-equi/equi/shared/ui';\nimport { useEffect, useRef, useState } from 'react';\nimport { appliances } from './mockData';\n\n/* eslint-disable-next-line */\nexport interface AppliancesProps {}\n\nexport function Appliances(props: AppliancesProps) {\n  const [balls, setBalls] = useState<IApplianceBubble[]>([]);\n  const dialPosition = useDialAngle();\n  const [active, setActive] = useState(0);\n  const pDialPosition = useRef(0);\n\n  useEffect(() => {\n    const b = arrangeAppliances(appliances);\n    setBalls(b);\n  }, []);\n\n  useEffect(() => {\n    const diff = dialPosition - pDialPosition.current;\n    if (Math.abs(diff) > 20) {\n      let newActive = active + (diff > 0 ? 1 : -1);\n      newActive =\n        newActive < 0\n          ? 0\n          : newActive < balls.length\n          ? newActive\n          : balls.length - 1;\n\n      pDialPosition.current = dialPosition;\n      setActive(newActive);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dialPosition]);\n\n  return (\n    <g>\n      <DataBubble\n        name=\"AppliancePower\"\n        text={appliances[active]?.power_consumption + ' kWh'}\n        gradientColor={\n          <>\n            <stop stopColor=\"#75C7CC\" />\n            <stop offset=\"1\" stopColor=\"#75C7CC\" stopOpacity=\"0.3\" />\n          </>\n        }\n        icon={\n          <path\n            d=\"M40.8784 12.3512C41.4988 10.7473 39.386 9.51585 38.2906 10.8429L20.7128 32.1381C19.9854 33.0194 20.4594 34.3563 21.5803 34.5851L32.634 36.841L26.9047 51.8557C26.2842 53.4819 28.452 54.6981 29.522 53.324L46.2287 31.8681C46.9187 30.9819 46.4371 29.6809 45.3355 29.4551L35.0767 27.3518L40.8784 12.3512Z\"\n            fill=\"white\"\n          />\n        }\n      />\n      {balls.map(({ x, y, r, type }, i) => (\n        <ApplianceBubble\n          key={i}\n          x={540 + x}\n          y={540 - y}\n          r={r + 0.5}\n          active={active === i}\n          type={type}\n        />\n      ))}\n    </g>\n  );\n}\n\nexport default Appliances;\n","const device_type = [\n  'Audio',\n  'Big Fridge',\n  'Coffee Machine',\n  'Completed',\n  'Dishwasher',\n  'Dryer Machine',\n  'Extractor Hood',\n  'Floor Heating',\n  'Induction Top',\n  'Oven',\n  'Small Fridge',\n  'Tee Kettle',\n  'Television',\n  'Wall Outlet',\n  'Washing Machine',\n];\n\nexport const appliances = Array(10)\n  .fill(0)\n  .map((_, index) => ({\n    id: index,\n    power_consumption: Math.floor(Math.random() * 1023),\n    time_start: new Date(),\n    time_end: new Date(),\n    device_type: device_type[Math.floor(Math.random() * device_type.length)],\n    size: Math.random() * 60 + 60,\n  }));\n","export * from './lib/appliance-bubble/appliance-bubble';\n","import { useState, useEffect } from 'react';\nimport { getDeviceIcon } from '@virtue-equi/equi/shared/utils/helper';\nimport { IApplianceBubble } from '@virtue-equi/equi/appliances/utils';\n\nexport interface ApplianceBubbleProps extends IApplianceBubble {\n  active: boolean;\n}\n\nexport function ApplianceBubble(props: ApplianceBubbleProps) {\n  const { x, y, r, active, type } = props;\n\n  const [iconRadius, setIconRadius] = useState(r + 1);\n\n  useEffect(() => {\n    active ? setIconRadius(r - 3) : setIconRadius(r + 1);\n  }, [active, r]);\n\n  return (\n    <>\n      <circle\n        cx={x}\n        cy={y}\n        r={r}\n        fill=\"url(#applianceFill)\"\n        stroke=\"white\"\n        strokeWidth={active ? 6 : 0}\n      />\n\n      <defs>\n        <linearGradient\n          id=\"applianceFill\"\n          x1=\"0%\"\n          y1=\"0%\"\n          x2=\"100%\"\n          y2=\"100%\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stopColor=\"#75C7CC\" />\n          <stop offset=\"1\" stopColor=\"#75C7CC\" stopOpacity=\"0.5\" />\n        </linearGradient>\n      </defs>\n\n      <image\n        href={getDeviceIcon(type)}\n        width={iconRadius * 2}\n        height={iconRadius * 2}\n        style={{\n          transform: `translateX(${x - iconRadius}px) translateY(${\n            y - iconRadius\n          }px)`,\n        }}\n      />\n    </>\n  );\n}\n\nexport default ApplianceBubble;\n","export * from './lib/arrange-appliances';\n","import { IAppliance } from '@virtue-equi/shared/interfaces';\n\nexport interface IApplianceBubble {\n  x: number;\n  y: number;\n  r: number;\n  type: string;\n}\n\nconst isCollision = (curr: IApplianceBubble, balls: IApplianceBubble[]) => {\n  let i = 0;\n  while (i < balls.length) {\n    const ball = balls[i++];\n    if (ball !== curr) {\n      const dx = ball.x - curr.x;\n      const dy = ball.y - curr.y;\n      const d = Math.sqrt(dx * dx + dy * dy);\n      const rr = ball.r + curr.r;\n      if (d < rr) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\nexport const arrangeAppliances = (appliances: IAppliance[]) => {\n  const ball = appliances.reduce((acc, curr) => {\n    for (let a = 0; a <= 360; a++) {\n      for (let d = 540 - curr.size; d >= 210 + curr.size; d--) {\n        const angle = (Math.asin((curr.size + 35) / d) * 180) / Math.PI;\n        if (a < angle) a = angle;\n        else if (a > 360 - angle) continue;\n\n        const x = Math.sin((a * Math.PI) / 180) * d;\n        const y = Math.cos((a * Math.PI) / 180) * d;\n        if (!isCollision({ x, y, r: curr.size, type: curr.device_type }, acc)) {\n          return [...acc, { x, y, r: curr.size, type: curr.device_type }];\n        }\n      }\n    }\n    return acc;\n  }, [] as IApplianceBubble[]);\n\n  return ball;\n};\n","export * from './lib/menu';\n","import {\n  buttonClicked$,\n  useDialAngle,\n} from '@virtue-equi/equi-shared-features';\nimport {\n  ApplianceButton,\n  CloseButton,\n  ScheduleButton,\n} from '@virtue-equi/equi/menu/ui';\nimport { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\n/* eslint-disable-next-line */\nexport interface EquiMenuFeatureProps {}\n\nexport function Menu(props: EquiMenuFeatureProps) {\n  const [active, setActive] = useState(0);\n  const history = useHistory();\n  const dialPosition = useDialAngle();\n\n  useEffect(() => {\n    const clickedSubscriber = buttonClicked$.subscribe(() => {\n      switch (active) {\n        case 2:\n          history.push('/scheduling');\n          break;\n        case 3:\n          history.push('/appliances');\n          break;\n        case 4:\n          history.push('/standby');\n          break;\n      }\n    });\n    return () => {\n      clickedSubscriber.unsubscribe();\n    };\n  }, [active, history]);\n\n  useEffect(() => {\n    const pos = (dialPosition * 4) % 360;\n    if (pos > 305) setActive(1);\n    else if (pos > 215) setActive(2);\n    else if (pos > 125) setActive(3);\n    else setActive(4);\n  }, [dialPosition]);\n\n  return (\n    <g>\n      <path\n        opacity=\"0.5\"\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M203.662 419.951C253.428 282.063 385.454 183.5 540.5 183.5V158.5C373.151 158.5 230.871 265.83 178.74 415.409C187.317 416.096 195.653 417.638 203.662 419.951ZM203.662 663.049C195.653 665.362 187.317 666.904 178.74 667.591C217.153 777.808 304.511 865.086 414.778 903.388C415.722 894.887 417.508 886.64 420.051 878.733C319.594 842.849 239.864 763.354 203.662 663.049ZM902.288 667.51C863.89 777.765 776.516 865.076 666.222 903.388C665.278 894.887 663.492 886.64 660.949 878.733C761.494 842.818 841.276 763.214 877.433 662.784C885.417 665.155 893.73 666.758 902.288 667.51Z\"\n        fill=\"#C4C4C4\"\n      />\n\n      <ScheduleButton active={active === 2} />\n      <ApplianceButton active={active === 3} />\n      <CloseButton active={active === 4} />\n    </g>\n  );\n}\n\nexport default Menu;\n","export * from './lib/close-button/close-button';\nexport * from './lib/schedule-button/schedule-button';\nexport * from './lib/energy-button/energy-button';\nexport * from './lib/appliance-button/appliance-button';\n","import { ButtonProps } from '../button-props';\n\n/* eslint-disable-next-line */\nexport type ApplianceButtonProps = ButtonProps;\n\nexport function ApplianceButton(props: ApplianceButtonProps) {\n  const { active, onClick } = props;\n\n  return (\n    <g>\n      {active ? (\n        <>\n          <linearGradient\n            id=\"AppliancesActive\"\n            x1=\"684\"\n            y1=\"681\"\n            x2=\"937\"\n            y2=\"934\"\n            gradientUnits=\"userSpaceOnUse\"\n          >\n            <stop stopColor=\"#75C7CC\" />\n            <stop offset=\"1\" stopColor=\"#75C7CC\" stopOpacity=\"0.5\" />\n          </linearGradient>\n          <circle cx=\"540.5\" cy=\"917.5\" r=\"119\" fill=\"url(#AppliancesActive)\" />\n        </>\n      ) : (\n        <circle\n          opacity=\"0.5\"\n          cx=\"540.5\"\n          cy=\"917.5\"\n          r=\"119\"\n          stroke=\"white\"\n          strokeWidth=\"15\"\n        />\n      )}\n\n      <g opacity={active ? 1 : 0.5}>\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M598.109 889.826H532.891C530.49 889.826 528.543 891.773 528.543 894.174V981.13C528.543 983.532 530.49 985.478 532.891 985.478H598.109C600.51 985.478 602.457 983.532 602.457 981.13V894.174C602.457 891.773 600.51 889.826 598.109 889.826ZM532.891 883.304C526.888 883.304 522.022 888.171 522.022 894.174V981.13C522.022 987.134 526.888 992 532.891 992H598.109C604.112 992 608.978 987.134 608.978 981.13V894.174C608.978 888.171 604.112 883.304 598.109 883.304H532.891Z\"\n          fill=\"white\"\n        />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M564.957 968.087C576.362 968.087 585.609 958.841 585.609 947.435C585.609 936.029 576.362 926.783 564.957 926.783C553.551 926.783 544.304 936.029 544.304 947.435C544.304 958.841 553.551 968.087 564.957 968.087ZM564.957 974.609C579.964 974.609 592.13 962.443 592.13 947.435C592.13 932.427 579.964 920.261 564.957 920.261C549.949 920.261 537.783 932.427 537.783 947.435C537.783 962.443 549.949 974.609 564.957 974.609Z\"\n          fill=\"white\"\n        />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M604.63 911.565H524.739V905.043H604.63V911.565Z\"\n          fill=\"white\"\n        />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M561.525 933.074C561.781 933.937 561.288 934.844 560.424 935.1C555.881 936.444 552.198 940.416 551.348 945.621C551.203 946.51 550.365 947.113 549.476 946.968C548.588 946.823 547.985 945.985 548.13 945.096C549.181 938.659 553.752 933.673 559.499 931.973C560.363 931.717 561.27 932.21 561.525 933.074Z\"\n          fill=\"white\"\n        />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M577.304 958.841C573.003 959.182 568.551 958.295 563.608 956.584C560.392 955.471 555.996 955.296 552.086 955.714C550.149 955.92 548.397 956.266 547.038 956.68C546.358 956.887 545.806 957.102 545.39 957.311C544.951 957.531 544.763 957.694 544.713 957.751L542.265 955.597C542.713 955.088 543.323 954.699 543.928 954.396C544.555 954.082 545.29 953.803 546.088 953.56C547.685 953.074 549.646 952.695 551.74 952.471C555.892 952.028 560.825 952.17 564.675 953.503C569.398 955.138 573.37 955.882 577.046 955.59C580.691 955.301 584.176 953.984 587.913 951.277L589.826 953.918C585.683 956.919 581.637 958.497 577.304 958.841Z\"\n          fill=\"white\"\n        />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M543.761 905.043V887.109H550.283V905.043H543.761Z\"\n          fill=\"white\"\n        />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M488.87 848.522H554.087C556.488 848.522 558.435 850.468 558.435 852.87V888.739H564.957V852.87C564.957 846.866 560.09 842 554.087 842H488.87C482.866 842 478 846.866 478 852.87V977.326C478 983.329 482.866 988.196 488.87 988.196H493.228C493.221 988.285 493.217 988.376 493.217 988.467C493.217 990.418 494.799 992 496.75 992H502.185C504.136 992 505.717 990.418 505.717 988.467C505.717 988.376 505.714 988.285 505.707 988.196H536.706C536.699 988.285 536.696 988.376 536.696 988.467C536.696 990.418 538.277 992 540.228 992H545.663C547.614 992 549.196 990.418 549.196 988.467C549.196 988.376 549.192 988.285 549.185 988.196H554.087C555.788 988.196 557.397 987.805 558.831 987.109H526.37V981.674H488.87C486.468 981.674 484.522 979.727 484.522 977.326V900.696H526.37V894.174H484.522V852.87C484.522 850.468 486.468 848.522 488.87 848.522ZM500.826 922.978C500.826 921.177 499.366 919.717 497.565 919.717C495.764 919.717 494.304 921.177 494.304 922.978L494.304 959.935C494.304 961.736 495.764 963.196 497.565 963.196C499.366 963.196 500.826 961.736 500.826 959.935L500.826 922.978ZM497.565 857.761C499.366 857.761 500.826 859.221 500.826 861.022L500.826 880.043C500.826 881.844 499.366 883.304 497.565 883.304C495.764 883.304 494.304 881.844 494.304 880.043L494.304 861.022C494.304 859.221 495.764 857.761 497.565 857.761Z\"\n          fill=\"white\"\n        />\n      </g>\n\n      <circle\n        cx=\"540.5\"\n        cy=\"917.5\"\n        r=\"119\"\n        fill=\"white\"\n        opacity=\"0\"\n        onClick={onClick}\n      />\n    </g>\n  );\n}\n\nexport default ApplianceButton;\n","import { ButtonProps } from '../button-props';\n\nexport type CloseButtonProps = ButtonProps;\n\nexport function CloseButton(props: CloseButtonProps) {\n  const { active, onClick } = props;\n\n  return (\n    <g>\n      {active ? (\n        <>\n          <linearGradient\n            id=\"CancelSelected\"\n            x1=\"684\"\n            y1=\"147\"\n            x2=\"937\"\n            y2=\"400\"\n            gradientUnits=\"userSpaceOnUse\"\n          >\n            <stop stopColor=\"#ECECEC\" />\n            <stop offset=\"1\" stopColor=\"#D1D3D4\" stopOpacity=\"0.5\" />\n          </linearGradient>\n          <circle\n            cx=\"913.5\"\n            cy=\"541.5\"\n            r=\"119\"\n            fill=\"url(#CancelSelected)\"\n            fillOpacity=\"0.5\"\n          />\n        </>\n      ) : (\n        <circle\n          opacity=\"0.5\"\n          cx=\"913.5\"\n          cy=\"541.5\"\n          r=\"119\"\n          stroke=\"white\"\n          strokeWidth=\"15\"\n        />\n      )}\n\n      <path\n        opacity={active ? 1 : 0.5}\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M865.036 498.71C863.084 500.663 863.084 503.829 865.036 505.781L900.165 540.91L865.036 576.038C863.084 577.991 863.084 581.157 865.036 583.109L872.71 590.783C874.663 592.736 877.828 592.736 879.781 590.783L914.91 555.654L950.038 590.783C951.991 592.736 955.157 592.736 957.109 590.783L964.783 583.109C966.735 581.157 966.735 577.991 964.783 576.038L929.654 540.91L964.783 505.781C966.735 503.829 966.735 500.663 964.783 498.71L957.109 491.037C955.156 489.084 951.991 489.084 950.038 491.037L914.91 526.165L879.781 491.036C877.828 489.084 874.663 489.084 872.71 491.036L865.036 498.71Z\"\n        fill=\"white\"\n      />\n      <circle\n        cx=\"913.5\"\n        cy=\"541.5\"\n        r=\"119\"\n        fill=\"white\"\n        fillOpacity=\"0\"\n        onClick={onClick}\n      />\n    </g>\n  );\n}\n\nexport default CloseButton;\n","import { ButtonProps } from '../button-props';\n\n/* eslint-disable-next-line */\nexport type EnergyButtonProps = ButtonProps;\n\nexport function EnergyButton(props: EnergyButtonProps) {\n  const { active, onClick } = props;\n  return (\n    <g>\n      {active ? (\n        <>\n          <circle cx=\"273.5\" cy=\"273.5\" r=\"126.5\" fill=\"url(#EnergySelected)\" />\n          <linearGradient\n            id=\"EnergySelected\"\n            x1=\"169.5\"\n            y1=\"171\"\n            x2=\"400\"\n            y2=\"400\"\n            gradientUnits=\"userSpaceOnUse\"\n          >\n            <stop stopColor=\"#FFEB76\" />\n            <stop offset=\"1\" stopColor=\"#F4E696\" stopOpacity=\"0.5\" />\n          </linearGradient>\n        </>\n      ) : (\n        <circle\n          opacity=\"0.5\"\n          cx=\"273.5\"\n          cy=\"273.5\"\n          r=\"119\"\n          stroke=\"white\"\n          strokeWidth=\"15\"\n        />\n      )}\n\n      <path\n        d=\"M296.44 207.118C298.54 201.605 291.388 197.373 287.68 201.934L228.177 275.13C225.714 278.159 227.319 282.754 231.113 283.541L268.532 291.295L249.137 342.903C247.036 348.493 254.375 352.674 257.997 347.95L314.551 274.202C316.887 271.156 315.257 266.684 311.528 265.908L276.8 258.678L296.44 207.118Z\"\n        opacity={active ? 1 : 0.5}\n        fill=\"white\"\n      />\n\n      <circle\n        cx=\"273.5\"\n        cy=\"273.5\"\n        r=\"126.5\"\n        fill=\"white\"\n        opacity=\"0\"\n        onClick={onClick}\n      />\n    </g>\n  );\n}\n\nexport default EnergyButton;\n","import { ButtonProps } from '../button-props';\n\nexport type ScheduleButtonProps = ButtonProps;\n\nexport function ScheduleButton(props: ScheduleButtonProps) {\n  const { active } = props;\n\n  return (\n    <g>\n      {active ? (\n        <>\n          <circle cx=\"168.5\" cy=\"541.5\" r=\"119\" fill=\"url(#ScheduleSelected)\" />\n          <linearGradient\n            id=\"ScheduleSelected\"\n            x1=\"147\"\n            y1=\"681\"\n            x2=\"400\"\n            y2=\"934\"\n            gradientUnits=\"userSpaceOnUse\"\n          >\n            <stop stopColor=\"#E24C3A\" />\n            <stop offset=\"1\" stopColor=\"#E24C3A\" stopOpacity=\"0.5\" />\n          </linearGradient>\n        </>\n      ) : (\n        <circle\n          opacity=\"0.5\"\n          cx=\"168.5\"\n          cy=\"541.5\"\n          r=\"119\"\n          stroke=\"white\"\n          strokeWidth=\"15\"\n        />\n      )}\n\n      <g opacity={active ? 1 : 0.5}>\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M196.182 608.052C215.55 608.052 231.25 592.444 231.25 573.19C231.25 553.935 215.55 538.327 196.182 538.327C176.815 538.327 161.115 553.935 161.115 573.19C161.115 592.444 176.815 608.052 196.182 608.052ZM196.182 617C220.52 617 240.25 597.385 240.25 573.19C240.25 548.994 220.52 529.379 196.182 529.379C171.844 529.379 152.115 548.994 152.115 573.19C152.115 597.385 171.844 617 196.182 617Z\"\n          fill=\"white\"\n        />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M115 488.04H204.557C207.871 488.04 210.557 490.711 210.557 494.005V531.763C213.738 532.854 216.754 534.296 219.557 536.044V494.005C219.557 485.769 212.842 479.093 204.557 479.093H115C106.716 479.093 100 485.769 100 494.005V583.04C100 591.275 106.716 597.952 115 597.952H159.824C157.912 595.182 156.312 592.183 155.073 589.005H115C111.686 589.005 109 586.334 109 583.04V494.005C109 490.711 111.686 488.04 115 488.04Z\"\n          fill=\"white\"\n        />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M159.779 467C162.264 467 164.279 469.003 164.279 471.474V495.855C164.279 498.326 162.264 500.329 159.779 500.329C157.294 500.329 155.279 498.326 155.279 495.855V471.474C155.279 469.003 157.294 467 159.779 467Z\"\n          fill=\"white\"\n        />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M121.459 467C123.944 467 125.959 469.003 125.959 471.474V495.855C125.959 498.326 123.944 500.329 121.459 500.329C118.974 500.329 116.959 498.326 116.959 495.855V471.474C116.959 469.003 118.974 467 121.459 467Z\"\n          fill=\"white\"\n        />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M198.098 467C200.584 467 202.598 469.003 202.598 471.474V495.855C202.598 498.326 200.584 500.329 198.098 500.329C195.613 500.329 193.598 498.326 193.598 495.855V471.474C193.598 469.003 195.613 467 198.098 467Z\"\n          fill=\"white\"\n        />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M215.342 514.424H103.449V505.477H215.342V514.424Z\"\n          fill=\"white\"\n        />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M162.242 523.948H158.082C156.425 523.948 155.082 525.283 155.082 526.931V531.066C155.082 532.713 156.425 534.049 158.082 534.049H162.242C163.899 534.049 165.242 532.713 165.242 531.066V526.931C165.242 525.283 163.899 523.948 162.242 523.948ZM158.082 519.474C153.94 519.474 150.582 522.813 150.582 526.931V531.066C150.582 535.184 153.94 538.522 158.082 538.522H162.242C166.384 538.522 169.742 535.184 169.742 531.066V526.931C169.742 522.813 166.384 519.474 162.242 519.474H158.082Z\"\n          fill=\"white\"\n        />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M132.352 523.948H128.193C126.536 523.948 125.193 525.283 125.193 526.931V531.066C125.193 532.713 126.536 534.049 128.193 534.049H132.352C134.009 534.049 135.352 532.713 135.352 531.066V526.931C135.352 525.283 134.009 523.948 132.352 523.948ZM128.193 519.474C124.05 519.474 120.693 522.813 120.693 526.931V531.066C120.693 535.184 124.05 538.522 128.193 538.522H132.352C136.495 538.522 139.852 535.184 139.852 531.066V526.931C139.852 522.813 136.495 519.474 132.352 519.474H128.193Z\"\n          fill=\"white\"\n        />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M132.352 546.044H128.193C126.536 546.044 125.193 547.379 125.193 549.026V553.162C125.193 554.809 126.536 556.144 128.193 556.144H132.352C134.009 556.144 135.352 554.809 135.352 553.162V549.026C135.352 547.379 134.009 546.044 132.352 546.044ZM128.193 541.57C124.05 541.57 120.693 544.908 120.693 549.026V553.162C120.693 557.28 124.05 560.618 128.193 560.618H132.352C136.495 560.618 139.852 557.28 139.852 553.162V549.026C139.852 544.908 136.495 541.57 132.352 541.57H128.193Z\"\n          fill=\"white\"\n        />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M132.352 568.139H128.193C126.536 568.139 125.193 569.475 125.193 571.122V575.258C125.193 576.905 126.536 578.24 128.193 578.24H132.352C134.009 578.24 135.352 576.905 135.352 575.258V571.122C135.352 569.475 134.009 568.139 132.352 568.139ZM128.193 563.666C124.05 563.666 120.693 567.004 120.693 571.122V575.258C120.693 579.375 124.05 582.714 128.193 582.714H132.352C136.495 582.714 139.852 579.375 139.852 575.258V571.122C139.852 567.004 136.495 563.666 132.352 563.666H128.193Z\"\n          fill=\"white\"\n        />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M196.566 544.716C199.051 544.716 201.066 546.719 201.066 549.189L201.066 572.809C201.066 575.28 199.051 577.282 196.566 577.282C194.08 577.282 192.066 575.28 192.066 572.809L192.066 549.189C192.066 546.719 194.08 544.716 196.566 544.716Z\"\n          fill=\"white\"\n        />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M217.16 572.809C217.16 575.28 215.145 577.283 212.66 577.283H196.566C194.08 577.283 192.066 575.28 192.066 572.809C192.066 570.338 194.08 568.335 196.566 568.335H212.66C215.145 568.335 217.16 570.338 217.16 572.809Z\"\n          fill=\"white\"\n        />\n      </g>\n\n      <circle cx=\"168.5\" cy=\"541.5\" r=\"119\" fill=\"white\" opacity=\"0\" />\n    </g>\n  );\n}\n\nexport default ScheduleButton;\n","export * from './libs/appliance.event';\nexport * from './libs/dial.event';\n","import { bind } from '@react-rxjs/core';\nimport { createSignal } from '@react-rxjs/utils';\nimport { buttonClicked$, dialAngle$ } from '@virtue-equi/equi-shared-features';\nimport { isScheduling$ } from './dial.event';\nimport { IAppliance } from '@virtue-equi/shared/interfaces';\nimport {\n  BehaviorSubject,\n  combineLatest,\n  distinctUntilChanged,\n  filter,\n  map,\n  merge,\n  tap,\n  withLatestFrom,\n} from 'rxjs';\n\nconst APPLIANCE_ACTIVE_THRESHOLD = 5;\nconst APPLIANCE_DEFAULT_RADIOUS = 32;\nconst APPLIANCE_ACTIVE_RADIOUS = APPLIANCE_DEFAULT_RADIOUS * 2;\n\nexport const scheduleAppliance$ = new BehaviorSubject<number | null>(null);\nexport const setScheduleAppliance = (id: number | null) => {\n  scheduleAppliance$.next(id);\n};\n\nexport interface AppliancePosition {\n  x: number;\n  y: number;\n  angle: number;\n}\nexport interface ApplianceState {\n  active: boolean;\n  position: AppliancePosition;\n  radious: number;\n}\n\nexport const [onActiveAppliance$, setActiveAppliance] =\n  createSignal<IAppliance | null>();\nexport const [useActiveAppliance, activeAppliance$] = bind(\n  onActiveAppliance$,\n  null\n);\n\nexport const onScheduleAppliance = buttonClicked$.pipe(\n  withLatestFrom(activeAppliance$, scheduleAppliance$),\n  tap(([_, appliance, scheduleAppliance]) => {\n    if (appliance) {\n      setScheduleAppliance(scheduleAppliance !== null ? null : appliance.id);\n    }\n  })\n);\n\nexport const applianceUpdate$ = combineLatest([\n  dialAngle$,\n  scheduleAppliance$,\n]).pipe(\n  withLatestFrom(isScheduling$),\n  filter(([, isScheduling]) => !isScheduling),\n  map(([value]) => value)\n);\n\nexport const [useApplianceState, applianceState$] = bind(\n  (appliance: IAppliance, initPosition: AppliancePosition) =>\n    merge(\n      // Stream for toggle active state\n      applianceUpdate$.pipe(\n        filter(([_, scheduleAppliance]) => scheduleAppliance === null),\n        map(([dialAngle]) => {\n          const { angle, x, y } = initPosition;\n          if (\n            angle - APPLIANCE_ACTIVE_THRESHOLD <= dialAngle &&\n            dialAngle <= angle + APPLIANCE_ACTIVE_THRESHOLD\n          ) {\n            const radious = APPLIANCE_ACTIVE_RADIOUS;\n            return {\n              active: true,\n              position: {\n                x: x - radious,\n                y: y - radious,\n                angle,\n              },\n              radious,\n            };\n          }\n          return {\n            active: false,\n            position: getApplianceInitPosition(initPosition),\n            radious: APPLIANCE_DEFAULT_RADIOUS,\n          };\n        }),\n        distinctUntilChanged((prev, curr) => prev.active === curr.active),\n        tap(({ active }) => setActiveAppliance(active ? appliance : null))\n      ),\n      // Stream for scheduling\n      applianceUpdate$.pipe(\n        filter(([_, scheduleAppliance]) => scheduleAppliance === appliance.id),\n        map(([dialAngle]) => {\n          // TODO: Update the appliance with new data\n          // This will work and update the reference to the init position\n          // thanks to the advantage of using same object referent (similar to pointer)\n          initPosition = {\n            angle: dialAngle,\n            x: 540 + Math.sin((dialAngle * Math.PI) / 180) * 360,\n            y: 540 - Math.cos((dialAngle * Math.PI) / 180) * 360,\n          };\n          return {\n            active: false,\n            position: getApplianceInitPosition(initPosition),\n            radious: APPLIANCE_DEFAULT_RADIOUS,\n          };\n        })\n      )\n    ),\n  (_, initPosition) => ({\n    active: false,\n    position: getApplianceInitPosition(initPosition),\n    radious: APPLIANCE_DEFAULT_RADIOUS,\n  })\n);\n\nconst getApplianceInitPosition = ({ x, y, angle }: AppliancePosition) => ({\n  x: x - APPLIANCE_DEFAULT_RADIOUS,\n  y: y - APPLIANCE_DEFAULT_RADIOUS,\n  angle,\n});\n","import { bind } from '@react-rxjs/core';\nimport {\n  buttonClicked$,\n  buttonHolded$,\n  dialAngle$,\n} from '@virtue-equi/equi-shared-features';\nimport { combineLatest, map, merge } from 'rxjs';\n\nexport const [useIsScheduling, isScheduling$] = bind(\n  merge(\n    buttonClicked$.pipe(map(() => false)),\n    buttonHolded$.pipe(map(() => true))\n  ),\n  false\n);\n\nexport const [useDialTimeTextAngle] = bind(\n  combineLatest([dialAngle$, isScheduling$]).pipe(\n    map(([dialAngle, isScheduling]) => (isScheduling ? 0 : dialAngle))\n  ),\n  0\n);\n","export * from './lib/equi-scheduler-feature';\n","export const scheduled_item_data = [\n  {\n    id: 1,\n    device_type: 'Dishwasher',\n    time_start: new Date('2020-09-23T07:10:53'),\n    time_end: new Date('2020-09-23T07:20:53'),\n    power_consumption: 2100,\n    size: 1,\n  },\n  {\n    id: 2,\n    device_type: 'Washing Machine',\n    time_start: new Date('2020-09-23T19:10:53'),\n    time_end: new Date('2020-09-23T20:40:53'),\n    power_consumption: 3000,\n    size: 1,\n  },\n];\n\nexport const general_energy_data = {\n  current: {\n    total_solar_production: 605,\n    total_consumption: 0,\n    battery_level: 12,\n  },\n};\n","import { Subscribe } from '@react-rxjs/core';\nimport { setDialAngleChange } from '@virtue-equi/equi-shared-features';\nimport {\n  onScheduleAppliance,\n  setActiveAppliance,\n  setScheduleAppliance,\n  useActiveAppliance,\n  useIsScheduling,\n} from '@virtue-equi/equi/scheduler/feature/appliance-state';\nimport {\n  Appliance,\n  AppliancePowerConsumption,\n  ApplianceSchedule,\n  BatteryLevel,\n  DialCursor,\n  DialSchedule,\n  DialTimeText,\n  PowerConsumption,\n  PowerProduction,\n} from '@virtue-equi/equi/scheduler/ui';\nimport { memo, useLayoutEffect } from 'react';\n// TODO: replace with real data\nimport { scheduled_item_data } from './dataMock';\nimport SchedulerPolar from './scheduler-polar';\n\n/* eslint-disable-next-line */\nexport interface SchedulerProps {}\n\nconst Appliances = memo(() => (\n  <Subscribe source$={onScheduleAppliance}>\n    {scheduled_item_data.map((item, id) => (\n      <Appliance key={id} appliance={item} />\n    ))}\n  </Subscribe>\n));\n\nexport function Scheduler(props: SchedulerProps) {\n  const appliance = useActiveAppliance();\n  const isScheduling = useIsScheduling();\n\n  useLayoutEffect(() => {\n    setDialAngleChange(0);\n    return () => {\n      setScheduleAppliance(null);\n      setActiveAppliance(null);\n    };\n  }, []);\n\n  return (\n    <g>\n      {!isScheduling && <DialCursor />}\n      <g\n        style={{\n          filter: isScheduling ? 'blur(3px)' : undefined,\n        }}\n      >\n        <SchedulerPolar />\n        <Appliances />\n\n        <path\n          mask=\"url(#mask0)\"\n          d=\"M540 540 505 0 0 0 0 540 Z\"\n          fill=\"url(#linearColors1)\"\n        />\n\n        <linearGradient id=\"linearColors1\" x1=\"0\" y1=\"1\" x2=\"1\" y2=\"0\">\n          <stop offset=\"0%\" stopColor=\"black\" stopOpacity=\"0\"></stop>\n          <stop offset=\"50%\" stopColor=\"black\" stopOpacity=\"0\"></stop>\n          <stop offset=\"60%\" stopColor=\"black\" stopOpacity=\"0.4\"></stop>\n          <stop offset=\"100%\" stopColor=\"black\" stopOpacity=\"0.85\"></stop>\n        </linearGradient>\n\n        {appliance ? (\n          <>\n            <AppliancePowerConsumption\n              powerConsumption={appliance.power_consumption}\n            />\n            <ApplianceSchedule y={220} timeStart={appliance.time_start} />\n          </>\n        ) : (\n          <>\n            <BatteryLevel y={80} />\n            <PowerConsumption y={160} />\n            <PowerProduction y={240} />\n          </>\n        )}\n        <DialTimeText />\n      </g>\n\n      <DialSchedule />\n      {isScheduling && <DialCursor />}\n    </g>\n  );\n}\n\nexport default Scheduler;\n","import { useEnphaseSeries } from '@virtue-equi/equi-shared-features';\nimport { Polar } from '@virtue-equi/equi/scheduler/ui';\nimport { memo } from 'react';\n\nconst SchedulerPolar = memo(() => {\n  const { battery, production, consumption } = useEnphaseSeries();\n\n  return (\n    <>\n      <Polar name=\"energy_production\" stroke=\"#75C7CC\" data={production}>\n        <stop offset=\"0.391621\" stopColor=\"#75C7CC\" />\n        <stop offset=\"1\" stopColor=\"#75C7CC\" stopOpacity=\"0\" />\n      </Polar>\n      <Polar name=\"energy_consumption\" stroke=\"#F4E696\" data={consumption}>\n        <stop offset=\"0.395478\" stopColor=\"#F4E696\" />\n        <stop offset=\"0.732477\" stopColor=\"#F4E696\" stopOpacity=\"0\" />\n      </Polar>\n      <Polar\n        name=\"battery_level\"\n        data={battery}\n        strokeDasharray=\"7\"\n        stroke=\"#B3D898\"\n      />\n    </>\n  );\n});\n\nexport default SchedulerPolar;\n","export * from './lib/dial-schedule/dial-schedule';\nexport * from './lib/text-clock/text-clock';\nexport * from './lib/power-production/power-production';\nexport * from './lib/power-consumption/power-consumption';\nexport * from './lib/battery-level/battery-level';\nexport * from './lib/appliance-schedule/appliance-schedule';\nexport * from './lib/appliance-power-consumption/appliance-power-consumption';\nexport * from './lib/appliance/appliance';\nexport * from './lib/dial-cursor/dial-cursor';\nexport * from './lib/dial-time-text/dial-time-text';\nexport * from './lib/polar/polar';\n","import { DataBubble } from '@virtue-equi/equi/shared/ui';\n\n/* eslint-disable-next-line */\nexport interface AppliancePowerConsumptionProps {\n  y?: number;\n  powerConsumption: number;\n}\n\nexport function AppliancePowerConsumption(\n  props: AppliancePowerConsumptionProps\n) {\n  const { powerConsumption, y } = props;\n  return (\n    <DataBubble\n      name=\"AppliancePowerConsumption\"\n      text={powerConsumption + ' kWh'}\n      textX={65}\n      y={y}\n      icon={\n        <>\n          <path\n            d=\"M39.4791 20.7922C39.8345 19.8432 38.624 19.1145 37.9964 19.8997L27.9256 32.5005C27.5088 33.0219 27.7804 33.813 28.4226 33.9484L34.7556 35.2832L31.4731 44.1676C31.1176 45.1299 32.3596 45.8496 32.9726 45.0365L42.5444 32.3407C42.9397 31.8163 42.6638 31.0465 42.0327 30.9129L36.1551 29.6683L39.4791 20.7922Z\"\n            fill=\"white\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M49.7556 18.0674C57.6586 25.9924 57.6518 38.8235 49.7352 46.7401C41.8119 54.6635 28.9655 54.6635 21.0421 46.7401C13.9715 39.6695 13.2105 28.6787 18.7591 20.7642L16.2597 20.9112C15.4461 20.9591 14.7478 20.3384 14.7 19.5248C14.6521 18.7113 15.2728 18.013 16.0864 17.9652L21.9989 17.6174C22.7436 17.5736 23.4038 18.0925 23.5373 18.8264L24.5807 24.5651C24.7265 25.3669 24.1947 26.135 23.3929 26.2808C22.5911 26.4266 21.8229 25.8948 21.6771 25.093L21.1936 22.4335C16.435 29.1984 17.0801 38.6046 23.1289 44.6534C29.8998 51.4242 40.8776 51.4242 47.6485 44.6534C54.4194 37.8825 54.4194 26.9047 47.6485 20.1338C47.6346 20.1199 47.6209 20.1057 47.6076 20.0913C45.6146 17.9322 39.2004 13.729 30.3491 15.4808C29.5497 15.6391 28.7734 15.1193 28.6151 14.3198C28.4569 13.5204 28.9767 12.7441 29.7761 12.5859C39.7855 10.6048 47.1799 15.2946 49.7556 18.0674Z\"\n            fill=\"white\"\n          />\n        </>\n      }\n      gradientColor={\n        <>\n          <stop stopColor=\"#E24C3A\" />\n          <stop offset=\"1\" stopColor=\"#E24C3A\" stopOpacity=\"0.5\" />\n        </>\n      }\n    />\n  );\n}\n\nexport default AppliancePowerConsumption;\n","import { useDialAngle } from '@virtue-equi/equi-shared-features';\nimport { timePrettier } from '@virtue-equi/equi/scheduler/utils';\nimport { DataBubble } from '@virtue-equi/equi/shared/ui';\nimport { useEffect } from 'react';\n\nexport interface ApplianceScheduleProps {\n  y?: number;\n  timeStart: Date;\n}\n\nexport function ApplianceSchedule({ y, timeStart }: ApplianceScheduleProps) {\n  const dialPosition = useDialAngle();\n\n  useEffect(() => {\n    const currentTime = new Date();\n    const t = (dialPosition * 24 * 60) / 360;\n    const hour = Math.floor(t / 60 + currentTime.getHours()) % 24;\n    const min = Math.floor((t + currentTime.getMinutes()) % 60);\n    timeStart.setHours(hour, min);\n  }, [dialPosition, timeStart]);\n\n  return (\n    <DataBubble\n      name=\"ApplianceSchedule\"\n      text={timePrettier(timeStart)}\n      textX={65}\n      y={y}\n      icon={\n        <>\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M48.7459 52.4947C54.1315 52.4947 58.4973 48.1242 58.4973 42.7331C58.4973 37.3419 54.1315 32.9715 48.7459 32.9715C43.3604 32.9715 38.9945 37.3419 38.9945 42.7331C38.9945 48.1242 43.3604 52.4947 48.7459 52.4947ZM48.7459 54.9999C55.5137 54.9999 61 49.5079 61 42.7331C61 35.9583 55.5137 30.4662 48.7459 30.4662C41.9782 30.4662 36.4918 35.9583 36.4918 42.7331C36.4918 49.5079 41.9782 54.9999 48.7459 54.9999Z\"\n            fill=\"white\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M26.1711 18.8913H51.0748C51.9962 18.8913 52.7432 19.639 52.7432 20.5615V31.1337C53.6277 31.4391 54.4663 31.843 55.2459 32.3322V20.5615C55.2459 18.2554 53.3784 16.386 51.0748 16.386H26.1711C23.8675 16.386 22 18.2554 22 20.5615V45.4911C22 47.7971 23.8675 49.6666 26.1711 49.6666H38.6356C38.1038 48.891 37.6588 48.0513 37.3145 47.1613H26.1711C25.2497 47.1613 24.5027 46.4135 24.5027 45.4911V20.5615C24.5027 19.639 25.2497 18.8913 26.1711 18.8913Z\"\n            fill=\"white\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M38.623 13C39.3141 13 39.8744 13.5608 39.8744 14.2526V21.0794C39.8744 21.7712 39.3141 22.3321 38.623 22.3321C37.9319 22.3321 37.3717 21.7712 37.3717 21.0794V14.2526C37.3717 13.5608 37.9319 13 38.623 13Z\"\n            fill=\"white\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M27.9672 13C28.6583 13 29.2185 13.5608 29.2185 14.2526V21.0794C29.2185 21.7712 28.6583 22.3321 27.9672 22.3321C27.2761 22.3321 26.7158 21.7712 26.7158 21.0794V14.2526C26.7158 13.5608 27.2761 13 27.9672 13Z\"\n            fill=\"white\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M49.2787 13C49.9698 13 50.53 13.5608 50.53 14.2526V21.0794C50.53 21.7712 49.9698 22.3321 49.2787 22.3321C48.5876 22.3321 48.0273 21.7712 48.0273 21.0794V14.2526C48.0273 13.5608 48.5876 13 49.2787 13Z\"\n            fill=\"white\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M54.0737 26.2787H22.959V23.7734H54.0737V26.2787Z\"\n            fill=\"white\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M39.3079 28.9454H38.1511C37.6904 28.9454 37.3169 29.3193 37.3169 29.7805V30.9384C37.3169 31.3996 37.6904 31.7735 38.1511 31.7735H39.3079C39.7686 31.7735 40.1421 31.3996 40.1421 30.9384V29.7805C40.1421 29.3193 39.7686 28.9454 39.3079 28.9454ZM38.1511 27.6927C36.9993 27.6927 36.0656 28.6275 36.0656 29.7805V30.9384C36.0656 32.0915 36.9993 33.0262 38.1511 33.0262H39.3079C40.4597 33.0262 41.3934 32.0915 41.3934 30.9384V29.7805C41.3934 28.6275 40.4597 27.6927 39.3079 27.6927H38.1511Z\"\n            fill=\"white\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M30.9963 28.9454H29.8396C29.3789 28.9454 29.0054 29.3193 29.0054 29.7805V30.9384C29.0054 31.3996 29.3789 31.7735 29.8396 31.7735H30.9963C31.4571 31.7735 31.8306 31.3996 31.8306 30.9384V29.7805C31.8306 29.3193 31.4571 28.9454 30.9963 28.9454ZM29.8396 27.6927C28.6878 27.6927 27.754 28.6275 27.754 29.7805V30.9384C27.754 32.0915 28.6878 33.0262 29.8396 33.0262H30.9963C32.1482 33.0262 33.0819 32.0915 33.0819 30.9384V29.7805C33.0819 28.6275 32.1482 27.6927 30.9963 27.6927H29.8396Z\"\n            fill=\"white\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M30.9963 35.1322H29.8396C29.3789 35.1322 29.0054 35.5061 29.0054 35.9673V37.1253C29.0054 37.5865 29.3789 37.9604 29.8396 37.9604H30.9963C31.4571 37.9604 31.8306 37.5865 31.8306 37.1253V35.9673C31.8306 35.5061 31.4571 35.1322 30.9963 35.1322ZM29.8396 33.8796C28.6878 33.8796 27.754 34.8143 27.754 35.9673V37.1253C27.754 38.2783 28.6878 39.213 29.8396 39.213H30.9963C32.1482 39.213 33.0819 38.2783 33.0819 37.1253V35.9673C33.0819 34.8143 32.1482 33.8796 30.9963 33.8796H29.8396Z\"\n            fill=\"white\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M30.9963 41.319H29.8396C29.3789 41.319 29.0054 41.6929 29.0054 42.1541V43.312C29.0054 43.7732 29.3789 44.1471 29.8396 44.1471H30.9963C31.4571 44.1471 31.8306 43.7732 31.8306 43.312V42.1541C31.8306 41.6929 31.4571 41.319 30.9963 41.319ZM29.8396 40.0663C28.6878 40.0663 27.754 41.0011 27.754 42.1541V43.312C27.754 44.4651 28.6878 45.3998 29.8396 45.3998H30.9963C32.1482 45.3998 33.0819 44.4651 33.0819 43.312V42.1541C33.0819 41.0011 32.1482 40.0663 30.9963 40.0663H29.8396Z\"\n            fill=\"white\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M48.8524 34.7603C49.5435 34.7603 50.1037 35.3211 50.1037 36.013L50.1038 42.6264C50.1038 43.3182 49.5435 43.879 48.8524 43.879C48.1613 43.879 47.6011 43.3182 47.6011 42.6264L47.6011 36.013C47.6011 35.3211 48.1613 34.7603 48.8524 34.7603Z\"\n            fill=\"white\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M54.5792 42.6265C54.5792 43.3183 54.019 43.8791 53.3279 43.8791H48.8525C48.1614 43.8791 47.6011 43.3183 47.6011 42.6265C47.6011 41.9347 48.1614 41.3738 48.8525 41.3738H53.3279C54.019 41.3738 54.5792 41.9347 54.5792 42.6265Z\"\n            fill=\"white\"\n          />\n        </>\n      }\n      gradientColor={\n        <>\n          <stop stopColor=\"#E24C3A\" />\n          <stop offset=\"1\" stopColor=\"#E24C3A\" stopOpacity=\"0.5\" />\n        </>\n      }\n    />\n  );\n}\n\nexport default ApplianceSchedule;\n","import {\n  AppliancePosition,\n  useApplianceState,\n} from '@virtue-equi/equi/scheduler/feature/appliance-state';\nimport {\n  dateToAngle,\n  getApplianceTimeRange,\n} from '@virtue-equi/equi/scheduler/utils';\nimport { getDeviceIcon } from '@virtue-equi/equi/shared/utils/helper';\nimport { IAppliance } from '@virtue-equi/shared/interfaces';\nimport { useMemo } from 'react';\n\nconst threshold = 5;\nconst defaultSize = 64;\nconst activeGrow = 64;\n\nexport interface ApplianceProps {\n  appliance: IAppliance;\n}\n\nexport function Appliance(props: ApplianceProps) {\n  const { appliance } = props;\n  const initPosition = useMemo<AppliancePosition>(() => {\n    const angle = dateToAngle(appliance.time_start);\n\n    return {\n      x: 540 + Math.sin((angle * Math.PI) / 180) * 360,\n      y: 540 - Math.cos((angle * Math.PI) / 180) * 360,\n      angle,\n    };\n  }, [appliance.time_start]);\n  const {\n    active,\n    position: { x, y, angle },\n    radious,\n  } = useApplianceState(appliance, initPosition);\n\n  return (\n    <g>\n      <line\n        id=\"line1\"\n        x1=\"540\"\n        x2=\"900\"\n        y1=\"540\"\n        y2=\"540\"\n        mask=\"url(#mask0)\"\n        stroke=\"#E24C3A\"\n        transform={`rotate(${-90 + angle} 540 540)`}\n        strokeWidth=\"3\"\n      />\n\n      <circle\n        cx={x + radious}\n        cy={y + radious}\n        r={radious}\n        fill=\"#E24C3A\"\n        strokeWidth={active ? 4 : 0}\n        stroke=\"white\"\n      />\n\n      <image\n        href={getDeviceIcon(appliance.device_type)}\n        width={radious * 2}\n        height={radious * 2}\n        style={{\n          transform: `translateX(${x}px) translateY(${y}px)`,\n        }}\n      />\n\n      {active && (\n        <>\n          <text\n            x={x + radious}\n            y={y + radious * 2 + 25}\n            width={radious * 2}\n            fontSize=\"20\"\n            fontWeight=\"500\"\n            fill=\"white\"\n            textAnchor=\"middle\"\n          >\n            {appliance.device_type.toUpperCase()}\n          </text>\n          <text\n            x={x + radious}\n            y={y + radious * 2 + 45}\n            width={radious * 2}\n            fontSize=\"16\"\n            fontWeight=\"300\"\n            fill=\"white\"\n            textAnchor=\"middle\"\n          >\n            {getApplianceTimeRange(appliance)}\n          </text>\n        </>\n      )}\n    </g>\n  );\n}\n\nexport default Appliance;\n","import { useBatteryStatus } from '@virtue-equi/equi-shared-features';\nimport { DataBubble } from '@virtue-equi/equi/shared/ui';\nimport { memo } from 'react';\n\nexport interface BatteryLevelProps {\n  y: number;\n}\n\nexport const BatteryLevel = memo((props: BatteryLevelProps) => {\n  const { y } = props;\n  const { percent, status } = useBatteryStatus();\n\n  return (\n    <DataBubble\n      name=\"BatteryLevel\"\n      text={percent + ' %'}\n      textX={65}\n      y={y}\n      icon={\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M31.9525 10.8373C31.9525 9.67238 32.962 8.72803 34.2072 8.72803L39.1531 8.72803C40.3983 8.72803 41.4078 9.67238 41.4078 10.8373L41.4078 12.1301L46.7693 12.1301C49.2598 12.1301 51.2788 14.0188 51.2788 16.3486L51.2788 46.6948C51.2788 49.0247 49.2598 50.9134 46.7693 50.9134L26.6949 50.9134C24.2044 50.9134 22.1854 49.0247 22.1854 46.6948L22.1854 16.3486C22.1854 14.0188 24.2044 12.1301 26.6949 12.1301L31.9525 12.1301L31.9525 10.8373ZM27.6768 16.5527C27.0542 16.5527 26.5494 17.0249 26.5494 17.6074L26.5494 27.4393L46.9148 27.4393L46.9148 17.6074C46.9148 17.0249 46.41 16.5527 45.7874 16.5527L27.6768 16.5527Z\"\n          fill=\"white\"\n        />\n      }\n      gradientColor={\n        <>\n          <stop stopColor=\"#B3D898\" />\n          <stop offset=\"1\" stopColor=\"#B3D898\" stopOpacity=\"0.5\" />\n        </>\n      }\n    />\n  );\n});\n\nexport default BatteryLevel;\n","import { useDialAngle } from '@virtue-equi/equi-shared-features';\nimport { memo } from 'react';\n\n/* eslint-disable-next-line */\nexport interface DialCursorProps {}\n\nexport const DialCursor = memo(\n  (props: DialCursorProps) => {\n    const dialPosition = useDialAngle();\n\n    return (\n      <line\n        id=\"line1\"\n        x1=\"540\"\n        x2=\"1080\"\n        y1=\"540\"\n        y2=\"540\"\n        mask=\"url(#mask0)\"\n        stroke=\"white\"\n        transform={`rotate(${-90 + dialPosition} 540 540)`}\n        strokeWidth=\"10\"\n      />\n    );\n    // Never rerender this component based on it's parent.\n    // It knows when to restart by itself\n  },\n  () => true\n);\n\nexport default DialCursor;\n","import { useDialAngle } from '@virtue-equi/equi-shared-features';\n\n/* eslint-disable-next-line */\nexport interface DialScheduleProps {}\n\nexport function DialSchedule(props: DialScheduleProps) {\n  const dialPosition = useDialAngle();\n\n  return (\n    <g>\n      <path\n        d=\"M540 1080C521.561 1080 503.134 1079.07 484.789 1077.21C466.791 1075.38 448.896 1072.65 431.171 1069.03C413.779 1065.47 396.371 1060.99 379.421 1055.72C362.676 1050.51 345.983 1044.41 329.808 1037.56C313.79 1030.79 297.908 1023.14 282.608 1014.83C267.419 1006.57 252.439 997.474 238.084 987.776C223.808 978.131 209.821 967.676 196.513 956.69C183.243 945.739 170.341 934.013 158.166 921.837C145.991 909.661 134.266 896.763 123.313 883.49C112.329 870.18 101.87 856.19 92.2271 841.919C82.5271 827.568 73.427 812.589 65.178 797.396C56.864 782.09 49.213 766.208 42.439 750.196C35.601 734.028 29.492 717.336 24.281 700.583C19.012 683.644 14.535 666.232 10.975 648.832C7.35327 631.107 4.6222 613.212 2.79199 595.214C0.933885 576.868 0.00204291 558.44 0 540C0.000838709 521.561 0.931317 503.134 2.78796 484.788C4.61811 466.79 7.34918 448.896 10.9709 431.171C14.5319 413.771 19.009 396.359 24.277 379.42C29.488 362.667 35.5971 345.975 42.4351 329.808C49.2101 313.79 56.861 297.908 65.174 282.608C73.4249 267.418 82.526 252.438 92.223 238.084C101.871 223.803 112.33 209.817 123.309 196.513C134.264 183.239 145.99 170.337 158.162 158.166C170.334 145.995 183.239 134.266 196.509 123.313C209.809 112.335 223.798 101.876 238.08 92.2271C252.427 82.5341 267.407 73.4331 282.604 65.1781C297.904 56.8641 313.789 49.2132 329.804 42.4391C345.973 35.6001 362.665 29.4901 379.417 24.2811C396.363 19.0101 413.774 14.5331 431.167 10.9741C448.892 7.35177 466.787 4.62069 484.785 2.79114C491.118 2.14814 497.585 1.6081 503.996 1.1911V329.024C501.621 329.424 499.223 329.873 496.868 330.355C483.099 333.176 469.644 337.352 456.698 342.824C443.972 348.212 431.798 354.82 420.346 362.555C408.982 370.238 398.377 378.988 388.675 388.686C378.977 398.388 370.227 408.993 362.544 420.357C354.809 431.809 348.202 443.983 342.813 456.708C337.341 469.654 333.164 483.109 330.343 496.878C327.451 511.07 325.996 525.517 326 540C325.996 554.486 327.453 568.935 330.347 583.128C333.168 596.897 337.345 610.353 342.817 623.299C348.206 636.024 354.813 648.198 362.548 659.65C370.231 671.015 378.981 681.62 388.679 691.321C398.381 701.02 408.986 709.77 420.35 717.453C431.801 725.188 443.975 731.796 456.7 737.183C469.646 742.655 483.101 746.832 496.87 749.652C511.064 752.547 525.514 754.003 540 754C554.486 754.003 568.935 752.547 583.129 749.652C596.898 746.832 610.354 742.655 623.3 737.183C636.025 731.795 648.199 725.187 659.65 717.452C671.015 709.769 681.62 701.019 691.322 691.32C701.02 681.618 709.77 671.013 717.453 659.649C725.188 648.198 731.795 636.025 737.184 623.3C742.656 610.354 746.833 596.898 749.654 583.129C752.548 568.935 754.004 554.486 754 540C754.003 525.514 752.547 511.065 749.653 496.871C746.832 483.103 742.655 469.647 737.183 456.701C731.795 443.976 725.187 431.802 717.452 420.35C709.769 408.986 701.019 398.381 691.321 388.679C681.619 378.981 671.014 370.231 659.649 362.548C648.198 354.813 636.025 348.205 623.3 342.817C610.354 337.345 596.899 333.169 583.13 330.348C580.774 329.866 578.376 329.418 576.001 329.017V1.18311C582.426 1.60511 588.89 2.14514 595.213 2.78314C613.211 4.61272 631.106 7.3438 648.83 10.9661C666.23 14.5261 683.643 19.0031 700.581 24.2731C717.334 29.4841 734.026 35.5932 750.194 42.4312C766.213 49.2062 782.094 56.8571 797.394 65.1701C812.585 73.4221 827.565 82.5221 841.917 92.2191C856.199 101.867 870.185 112.326 883.488 123.305C896.765 134.262 909.667 145.988 921.835 158.158C934.003 170.328 945.735 183.234 956.688 196.505C967.67 209.813 978.129 223.8 987.774 238.076C997.467 252.423 1006.57 267.404 1014.82 282.6C1023.14 297.907 1030.79 313.789 1037.56 329.8C1044.4 345.962 1050.51 362.654 1055.72 379.412C1060.99 396.35 1065.47 413.762 1069.03 431.163C1072.65 448.888 1075.38 466.782 1077.21 484.78C1079.07 503.128 1080 521.558 1080 540C1080 558.439 1079.07 576.866 1077.21 595.211C1075.38 613.209 1072.65 631.104 1069.03 648.829C1065.47 666.229 1060.99 683.64 1055.72 700.58C1050.51 717.33 1044.4 734.022 1037.56 750.193C1030.79 766.205 1023.14 782.087 1014.83 797.393C1006.57 812.593 997.468 827.572 987.777 841.916C978.124 856.203 967.665 870.19 956.691 883.487C945.738 896.758 934.011 909.66 921.838 921.834C909.665 934.008 896.766 945.734 883.491 956.687C870.191 967.664 856.204 978.123 841.92 987.773C827.575 997.464 812.595 1006.57 797.397 1014.82C782.09 1023.14 766.208 1030.79 750.197 1037.56C734.023 1044.4 717.33 1050.51 700.584 1055.72C683.636 1060.99 666.225 1065.47 648.833 1069.03C631.109 1072.65 613.214 1075.38 595.216 1077.21C576.869 1079.07 558.441 1080 540 1080Z\"\n        fill=\"black\"\n        opacity=\"0.0\"\n        filter=\"url(#blurMe)\"\n      />\n\n      <filter id=\"blurMe\">\n        <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"5\" />\n      </filter>\n    </g>\n  );\n}\n\nexport default DialSchedule;\n","import { useDialTimeTextAngle } from '@virtue-equi/equi/scheduler/feature/appliance-state';\nimport { angleToTime } from '@virtue-equi/equi/scheduler/utils';\nimport { memo, useEffect, useState } from 'react';\nimport TextClock from '../text-clock/text-clock';\nconst dialRightBoundary = 8;\nconst dialLeftBoundary = 352;\n\nexport const DialTimeText = memo(\n  () => {\n    const dialPosition = useDialTimeTextAngle();\n    const [dialAppear, setDialAppear] = useState(false);\n\n    useEffect(() => {\n      if (\n        (dialPosition < dialRightBoundary || dialPosition > dialLeftBoundary) &&\n        dialAppear\n      ) {\n        setDialAppear(false);\n      } else if (\n        dialPosition > dialRightBoundary &&\n        dialPosition < dialLeftBoundary &&\n        !dialAppear\n      ) {\n        setDialAppear(true);\n      }\n    }, [dialAppear, dialPosition]);\n\n    return (\n      <text\n        x={dialAppear ? '5' : '30'}\n        y={dialAppear ? 520 : 490}\n        fontSize={dialAppear ? 40 : 110}\n        fontWeight=\"300\"\n        fill=\"white\"\n        textAnchor=\"start\"\n        transform={\n          dialAppear\n            ? `rotate(${90 + dialPosition} 540 540)`\n            : 'rotate(90 540 540)'\n        }\n      >\n        {dialAppear ? angleToTime(dialPosition) : <TextClock />}\n      </text>\n    );\n  },\n  // Never rerender this component based on it's parent.\n  // It knows when to restart by itself\n  () => true\n);\n\nexport default DialTimeText;\n","import { memo, ReactNode } from 'react';\nimport { pathGenerator } from '@virtue-equi/equi/scheduler/utils';\n\nexport interface PolarProps extends React.SVGProps<SVGPathElement> {\n  name: string;\n  data: number[];\n  children?: ReactNode;\n}\n\nexport const Polar = memo<PolarProps>(\n  function (props: PolarProps) {\n    const { name, data, children, ...rest } = props;\n\n    return (\n      <g>\n        <path\n          mask=\"url(#mask0)\"\n          opacity=\"0.8\"\n          d={pathGenerator(data)}\n          fill={`url(#${name}color)`}\n          stroke=\"white\"\n          strokeWidth=\"2px\"\n          {...rest}\n        />\n        <defs>\n          <radialGradient\n            id={`${name}color`}\n            cx=\"540\"\n            cy=\"540\"\n            r={Math.max(...data) + 180}\n            gradientUnits=\"userSpaceOnUse\"\n          >\n            {children}\n          </radialGradient>\n        </defs>\n      </g>\n    );\n  },\n  (prev, next) => prev.name === next.name && prev.data === next.data\n);\n\nexport default Polar;\n","import { usePowerConsumptionStatus } from '@virtue-equi/equi-shared-features';\nimport { DataBubble } from '@virtue-equi/equi/shared/ui';\nimport { memo } from 'react';\n\nexport interface PowerConsumptionProps {\n  y: number;\n}\n\nexport const PowerConsumption = memo((props: PowerConsumptionProps) => {\n  const { y } = props;\n  const consumption = usePowerConsumptionStatus();\n\n  return (\n    <DataBubble\n      name=\"PowerConsumption\"\n      text={consumption}\n      textX={65}\n      y={y}\n      icon={\n        <path\n          d=\"M40.8786 12.3512C41.4989 10.7473 39.3861 9.51585 38.2907 10.8429L20.7129 32.1381C19.9855 33.0194 20.4595 34.3563 21.5804 34.5851L32.6342 36.841L26.9049 51.8557C26.2843 53.4819 28.4522 54.6981 29.5221 53.324L46.2288 31.8681C46.9188 30.9819 46.4372 29.6809 45.3356 29.4551L35.0769 27.3518L40.8786 12.3512Z\"\n          fill=\"white\"\n        />\n      }\n      gradientColor={\n        <>\n          <stop stopColor=\"#75C7CC\" />\n          <stop offset=\"1\" stopColor=\"#75C7CC\" stopOpacity=\"0.3\" />\n        </>\n      }\n    />\n  );\n});\n\nexport default PowerConsumption;\n","import { usePowerProductionStatus } from '@virtue-equi/equi-shared-features';\nimport { DataBubble } from '@virtue-equi/equi/shared/ui';\nimport { memo } from 'react';\n\nexport interface PowerProductionProps {\n  y?: number;\n}\n\nexport const PowerProduction = memo((props: PowerProductionProps) => {\n  const { y } = props;\n  const production = usePowerProductionStatus();\n\n  return (\n    <DataBubble\n      name=\"PowerProduction\"\n      text={production}\n      textX={65}\n      y={y}\n      icon={\n        <>\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M38.2786 11.8315C38.841 11.8315 39.2969 12.2874 39.2969 12.8498L39.2969 18.8186C39.2969 19.381 38.841 19.8369 38.2786 19.8369C37.7163 19.8369 37.2604 19.381 37.2604 18.8186L37.2604 12.8498C37.2604 12.2874 37.7163 11.8315 38.2786 11.8315Z\"\n            fill=\"white\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M52.6793 46.5975C52.2816 46.9951 51.6369 46.9951 51.2392 46.5975L47.0684 42.4266C46.6707 42.0289 46.6707 41.3842 47.0684 40.9866C47.466 40.5889 48.1107 40.5889 48.5084 40.9866L52.6793 45.1574C53.0769 45.5551 53.0769 46.1998 52.6793 46.5975Z\"\n            fill=\"white\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M52.6793 17.7964C53.0769 18.1941 53.0769 18.8388 52.6793 19.2365L48.5084 23.4074C48.1107 23.805 47.466 23.805 47.0683 23.4074C46.6707 23.0097 46.6707 22.365 47.0683 21.9673L51.2392 17.7964C51.6369 17.3988 52.2816 17.3988 52.6793 17.7964Z\"\n            fill=\"white\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M58.644 32.197C58.644 32.7594 58.1881 33.2153 57.6258 33.2153L51.657 33.2153C51.0946 33.2153 50.6387 32.7594 50.6387 32.197C50.6387 31.6346 51.0946 31.1787 51.657 31.1787L57.6258 31.1787C58.1881 31.1787 58.644 31.6346 58.644 32.197Z\"\n            fill=\"white\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M38.2786 44.5569C38.841 44.5569 39.2969 45.0128 39.2969 45.5752L39.2969 51.5439C39.2969 52.1063 38.841 52.5622 38.2786 52.5622C37.7163 52.5622 37.2604 52.1063 37.2604 51.5439L37.2604 45.5752C37.2604 45.0128 37.7163 44.5569 38.2786 44.5569Z\"\n            fill=\"white\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M29.489 23.4073C29.0913 23.8049 28.4466 23.8049 28.0489 23.4073L23.8781 19.2364C23.4804 18.8388 23.4804 18.194 23.8781 17.7964C24.2757 17.3987 24.9204 17.3987 25.3181 17.7964L29.489 21.9672C29.8866 22.3649 29.8866 23.0096 29.489 23.4073Z\"\n            fill=\"white\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M29.4892 40.9866C29.8868 41.3843 29.8868 42.029 29.4892 42.4267L25.3183 46.5975C24.9207 46.9952 24.2759 46.9952 23.8783 46.5975C23.4806 46.1999 23.4806 45.5552 23.8783 45.1575L28.0491 40.9866C28.4468 40.589 29.0915 40.589 29.4892 40.9866Z\"\n            fill=\"white\"\n          />\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M25.9186 32.197C25.9186 32.7594 25.4627 33.2153 24.9003 33.2153L18.9315 33.2153C18.3692 33.2153 17.9133 32.7594 17.9133 32.197C17.9133 31.6346 18.3692 31.1787 18.9315 31.1787L24.9003 31.1787C25.4627 31.1787 25.9186 31.6346 25.9186 32.197Z\"\n            fill=\"white\"\n          />\n          <path\n            d=\"M47.7463 32.197C47.7463 37.4258 43.5075 41.6647 38.2786 41.6647C33.0498 41.6647 28.8109 37.4258 28.8109 32.197C28.8109 26.9681 33.0498 22.7292 38.2786 22.7292C43.5075 22.7292 47.7463 26.9681 47.7463 32.197Z\"\n            fill=\"white\"\n          />\n        </>\n      }\n      gradientColor={\n        <>\n          <stop stopColor=\"#F4E696\" />\n          <stop offset=\"1\" stopColor=\"#F4E696\" stopOpacity=\"0.5\" />\n        </>\n      }\n    />\n  );\n});\n\nexport default PowerProduction;\n","import { useClock } from '@virtue-equi/equi-shared-features';\n\nexport function TextClock() {\n  const clock = useClock();\n\n  return (\n    <>\n      {clock.hour} : {clock.minute}\n    </>\n  );\n}\n\nexport default TextClock;\n","export * from './lib/path-generator';\nexport * from './lib/time-prettier';\nexport * from './lib/angle-to-time';\nexport * from './lib/date-to-angle';\nexport * from './lib/get-appliance-time-range';\n","export const angleToTime = (angle: number) => {\n  const currentTime = new Date();\n  const t = (angle * 24 * 60) / 360;\n\n  const hour = (Math.floor(t / 60 + currentTime.getHours()) % 24)\n    .toString()\n    .padStart(2, '0');\n  const min = Math.floor((t + currentTime.getMinutes()) % 60)\n    .toString()\n    .padStart(2, '0');\n  return hour + ':' + min;\n};\n","export const dateToAngle = (date: Date | string) => {\n  if (typeof date === 'string') {\n    date = new Date(date);\n  }\n\n  return ((date.getHours() * 60 + date.getMinutes()) * 360) / 1440;\n};\n","import { timePrettier } from './time-prettier';\nimport { IAppliance } from '@virtue-equi/shared/interfaces';\n\nexport const getApplianceTimeRange = (appliance: IAppliance) => {\n  const from = timePrettier(appliance.time_start);\n  const to = timePrettier(appliance.time_end);\n\n  return from + ' → ' + to;\n};\n","const smoothing = 0.2;\n\nconst line = (pointA: number[], pointB: number[]) => {\n  const lengthX = pointB[0] - pointA[0];\n  const lengthY = pointB[1] - pointA[1];\n  return {\n    length: Math.sqrt(Math.pow(lengthX, 2) + Math.pow(lengthY, 2)),\n    angle: Math.atan2(lengthY, lengthX),\n  };\n};\n\nconst controlPoint = (\n  current: number[],\n  previous: number[],\n  next: number[],\n  reverse = false\n) => {\n  const p = previous || current;\n  const n = next || current;\n\n  const o = line(p, n);\n\n  const angle = o.angle + (reverse ? Math.PI : 0);\n  const length = o.length * smoothing;\n\n  const x = current[0] + Math.cos(angle) * length;\n  const y = current[1] + Math.sin(angle) * length;\n  return [x, y];\n};\n\nconst bezierCommand = (point: number[], i: number, a: number[][]) => {\n  // start control point\n  const cps = controlPoint(a[i - 1], a[i - 2], point);\n\n  // end control point\n  const cpe = controlPoint(point, a[i - 1], a[i + 1], true);\n  return `C ${cps[0]},${cps[1]} ${cpe[0]},${cpe[1]} ${point[0]},${point[1]}`;\n};\n\nconst svgPath = (\n  points: number[][],\n  command: (point: number[], i: number, a: number[][]) => void\n) => {\n  // build the d attributes by looping over the points\n  const d = points.reduce(\n    (acc, point, i, a) =>\n      i === 0 ? `M ${point[0]},${point[1]}` : `${acc} ${command(point, i, a)}`,\n    ''\n  );\n  return d;\n};\n\nexport const pathGenerator = (data: number[], command = bezierCommand) => {\n  const path = [[540, 540 - data[0]]];\n\n  for (let i = 1; i < 288; i += 1) {\n    const hypotenuse = data[i];\n    const angle = (i * 1.25 * Math.PI) / 180;\n    let x = 540,\n      y = 540;\n\n    switch (i * 1.25) {\n      case 90:\n        x += hypotenuse;\n        break;\n      case 180:\n        y += hypotenuse;\n        break;\n      case 270:\n        x -= hypotenuse;\n        break;\n      default:\n        x += Math.sin(angle) * hypotenuse;\n        y -= Math.cos(angle) * hypotenuse;\n        break;\n    }\n\n    path.push([x, y]);\n  }\n\n  return svgPath(path, command) + ' Z';\n};\n","export const timePrettier = (time: Date) => {\n  const options: Intl.DateTimeFormatOptions = {\n    hour: '2-digit',\n    minute: '2-digit',\n    hour12: false,\n  };\n\n  return time.toLocaleTimeString(navigator.language, options);\n};\n","export type BatteryStatus = 'idle' | 'charging' | 'discharging';\n\nexport interface EnphaseBattery {\n  percent: number;\n  status: BatteryStatus;\n}\nexport interface EnphasePowerStatus {\n  consumption: number;\n  production: number;\n  battery: EnphaseBattery;\n}\nexport const getPowerStatus = async (): Promise<EnphasePowerStatus | false> => {\n  const res = await fetch(\n    `${process.env.NX_LIBRIUM_URL}/api/enphase/power-status`\n  );\n  if (res.ok) {\n    const data = await res.json();\n    return data.data;\n  }\n  return false;\n};\n\nexport interface EnphaseSeries {\n  battery: number[];\n  consumption: number[];\n  production: number[];\n}\nexport const getEnphaseSeries = async (): Promise<EnphaseSeries | false> => {\n  const res = await fetch(`${process.env.NX_LIBRIUM_URL}/api/enphase/series`);\n  if (res.ok) {\n    const data = await res.json();\n    return data.data;\n  }\n  return false;\n};\n","export * from './api/enphase.api';\n","import { bind } from '@react-rxjs/core';\nimport { interval, map } from 'rxjs';\n\nexport const digitFormat = (time: number): string => {\n  return time.toString().padStart(2, '0');\n};\n\nexport function getCurrentTime() {\n  const now = new Date();\n  return {\n    hour: digitFormat(now.getHours()),\n    minute: digitFormat(now.getMinutes()),\n  };\n}\n\nexport type ClockType = {\n  hour: string;\n  minute: string;\n};\nexport const [useClock, clock$] = bind<ClockType>(\n  interval(1000).pipe(map(getCurrentTime)),\n  getCurrentTime()\n);\n","export * from './clock/clock.event';\nexport * from './power-state/power-state.event';\nexport * from './rotator/rotator.context';\nexport * from './rotator/rotator.event';\nexport * from './rotator/rotator.provider';\n","import { bind } from '@react-rxjs/core';\nimport {\n  EnphaseBattery,\n  EnphasePowerStatus,\n  EnphaseSeries,\n  getEnphaseSeries,\n  getPowerStatus,\n} from '@virtue-equi/equi-shared-data-access';\nimport {\n  catchError,\n  concatMap,\n  EMPTY,\n  from,\n  map,\n  pluck,\n  throttleTime,\n  timer,\n} from 'rxjs';\nimport { clock$ } from '../clock/clock.event';\n\nconst UPDATE_POWER_STATE_INTERVAL = 5000;\nconst initBatteryState: EnphasePowerStatus = {\n  production: 100,\n  consumption: 50,\n  battery: { percent: 40, status: 'idle' },\n};\nexport const [usePowerStatus, powerStatus$] = bind<EnphasePowerStatus>(\n  timer(UPDATE_POWER_STATE_INTERVAL).pipe(\n    concatMap(() =>\n      from(getPowerStatus()).pipe(\n        map((value) => {\n          if (value === false) return initBatteryState;\n          return value;\n        }),\n        catchError(() => EMPTY)\n      )\n    )\n  ),\n  initBatteryState\n);\nexport const [useBatteryStatus] = bind<EnphaseBattery>(\n  powerStatus$.pipe(pluck('battery')),\n  initBatteryState.battery\n);\nexport const [usePowerProductionStatus] = bind<string>(\n  powerStatus$.pipe(\n    pluck('production'),\n    map((value) => value.toFixed(2) + ' W')\n  ),\n  initBatteryState.production + ' W'\n);\nexport const [usePowerConsumptionStatus] = bind<string>(\n  powerStatus$.pipe(\n    pluck('consumption'),\n    map((value) => value.toFixed(2) + ' W')\n  ),\n  initBatteryState.consumption + ' W'\n);\n\nconst initialEnphaseSeries: EnphaseSeries = {\n  battery: Array(288).fill(0),\n  consumption: Array(288).fill(0),\n  production: Array(288).fill(0),\n};\nexport const [useEnphaseSeries, enphaseSeries$] = bind<EnphaseSeries>(\n  clock$.pipe(\n    // Dont refesh the graph too fast, the max interval is 5 min\n    throttleTime(5 * 60 * 1000),\n    concatMap(() =>\n      from(getEnphaseSeries()).pipe(\n        map((response) => {\n          // This will never happend since we filter all false values\n          // But still needed to prevent the error from ts compiler\n          if (response === false) return initialEnphaseSeries;\n\n          const minConsumption = Math.min(...response.consumption);\n          const minProduction = Math.min(...response.production);\n          return {\n            battery: response.battery.map((value) => value * 4),\n            consumption: response.consumption.map(\n              (value) => (value + Math.abs(minConsumption)) / 3\n            ),\n            production: response.production.map(\n              (value) => (value + minProduction) * 1.2\n            ),\n          };\n        }),\n        catchError(() => EMPTY)\n      )\n    )\n  ),\n  initialEnphaseSeries\n);\n","import { createContext, useContext } from 'react';\n\nexport type ClickEvent =\n  | 'doubleClickEvent'\n  | 'clickEvent'\n  | 'holdEvent'\n  | 'rotateLeftEvent'\n  | 'rotateRightEvent';\n\nexport interface IRotatorContext {\n  handleClick: (event: ClickEvent) => void;\n}\n\nconst initial: IRotatorContext = {\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  handleClick: () => {},\n};\n\nexport const RotatorContext = createContext<IRotatorContext>(initial);\nexport const useRotatorContext = () => useContext(RotatorContext);\n","import { bind } from '@react-rxjs/core';\nimport { createSignal } from '@react-rxjs/utils';\nimport { debounceTime, merge, scan } from 'rxjs';\n\nexport const [buttonClicked$, onButtonClicked] = createSignal();\nexport const [buttonHolded$, onButtonHolded] = createSignal();\nexport const [dialRotate$, setDialRotate] = createSignal<boolean>();\nexport const [dialAngleChange$, setDialAngleChange] = createSignal<number>();\nexport const [useDialAngle, dialAngle$] = bind(\n  merge(dialRotate$, dialAngleChange$).pipe(\n    debounceTime(10),\n    scan((acc, value) => {\n      if (typeof value === 'boolean') {\n        return acc + (value ? 1 : -1) * 10;\n      }\n      return value;\n    }, 0)\n  ),\n  0\n);\n","import {\n  ReactNode,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { ClickEvent, RotatorContext } from './rotator.context';\nimport {\n  onButtonClicked,\n  onButtonHolded,\n  setDialRotate,\n} from './rotator.event';\n\nexport interface RotatorProviderProps {\n  children: ReactNode;\n}\n\nconst wsUri = 'ws://localhost:8765';\n\nexport function RotatorProvider(props: RotatorProviderProps) {\n  const { children } = props;\n  const webSocket = useRef<WebSocket>();\n  const history = useHistory();\n\n  const [dialPosition, setDialPosition] = useState(0);\n  const [connected, setConnected] = useState(false);\n\n  const handleClick = useCallback((event: ClickEvent) => {\n    switch (event) {\n      case 'rotateRightEvent':\n        setDialRotate(true);\n        break;\n      case 'rotateLeftEvent':\n        setDialRotate(false);\n        break;\n      case 'holdEvent':\n        console.log('holding');\n\n        onButtonHolded();\n        break;\n      case 'clickEvent':\n        onButtonClicked();\n        break;\n      case 'doubleClickEvent':\n        history.push('/menu');\n        break;\n      default:\n        break;\n    }\n  }, []);\n\n  useEffect(() => {\n    webSocket.current = new WebSocket(wsUri);\n\n    webSocket.current.onopen = function (_evt) {\n      setConnected(true);\n      console.log('CONNECTED');\n    };\n\n    webSocket.current.onclose = function (_evt) {\n      setConnected(false);\n      console.log('DISCONNECTED');\n    };\n\n    webSocket.current.onmessage = async function (evt) {\n      handleClick(evt.data);\n    };\n\n    webSocket.current.onerror = function (evt) {\n      console.error('ERROR: ' + evt);\n    };\n\n    return () => {\n      webSocket.current?.close();\n    };\n  }, []);\n\n  const value = useMemo(\n    () => ({\n      dialPosition,\n      setDialPosition,\n      handleClick,\n    }),\n    [dialPosition]\n  );\n\n  return (\n    <RotatorContext.Provider value={value}>{children}</RotatorContext.Provider>\n  );\n}\n\nexport default RotatorProvider;\n","export * from './lib/data-bubble/data-bubble';\n","export interface DataBubbleProps {\n  name: string;\n  text: string;\n  gradientColor: React.ReactNode;\n  icon: React.ReactNode;\n  textX?: number;\n  y?: number;\n}\n\nexport function DataBubble(props: DataBubbleProps) {\n  const { text, name, gradientColor, icon, textX = 55, y = 130 } = props;\n  const textLength = text.length * 17 + 30;\n\n  return (\n    <g\n      style={{\n        transform: `translateX(${\n          504 - textX - textLength\n        }px) translateY(${y}px)`,\n      }}\n    >\n      <mask\n        id={`${name}Mask`}\n        mask-type=\"alpha\"\n        x=\"0\"\n        y=\"0\"\n        width={`${15 + textX + textLength}px `}\n        height=\"300px\"\n      >\n        <rect width={`${textX + textLength}`} height=\"150\" fill=\"black\" />\n      </mask>\n\n      <g mask={`url(#${name}Mask)`}>\n        <rect\n          width={`${100 + textLength}`}\n          height=\"64\"\n          rx=\"32\"\n          fill={`url(#${name}Color)`}\n        />\n\n        {icon}\n        <text x={textX} y=\"45\" fontSize=\"35\" fill=\"white\">\n          {text}\n        </text>\n\n        <defs>\n          <linearGradient\n            id={`${name}Color`}\n            x1=\"0\"\n            y1=\"0\"\n            x2=\"154\"\n            y2=\"64\"\n            gradientUnits=\"userSpaceOnUse\"\n          >\n            {gradientColor}\n          </linearGradient>\n        </defs>\n      </g>\n    </g>\n  );\n}\n\nexport default DataBubble;\n","export * from './lib/get-device-icon';\n","const devices: { [key: string]: string } = {\n  Audio: 'AudioIcon.svg',\n  'Big Fridge': 'BigFridgeIcon.svg',\n  Dishwasher: 'DishWasherIcon.svg',\n  'Washing Machine': 'WashingMachineIcon.svg',\n  'Coffee Machine': 'CoffeeMachineIcon.svg',\n  Completed: 'CompletedIcon.svg',\n  'Dryer Machine': 'DryerMachineIcon.svg',\n  'Extractor Hood': 'ExtractorHoodIcon.svg',\n  'Floor Heating': 'FloorHeatingIcon.svg',\n  'Induction Top': 'InductionTopIcon.svg',\n  Oven: 'OvenIcon.svg',\n  'Small Fridge': 'SmallFridgeIcon.svg',\n  'Tee Kettle': 'TeeKettleIcon.svg',\n  Television: 'TelevisionIcon.svg',\n  'Wall Outlet': 'WallOutletIcon.svg',\n};\n\nexport const getDeviceIcon = (device: string) => {\n  const prefix = process.env.NX_EQUI_BASENAME;\n  return (prefix ? `/${prefix}` : '') + '/assets/' + devices[device];\n};\n","export * from './lib/useInterval';\nexport * from './lib/useIsMounted';\nexport * from './lib/useTimeout';\n","import { useEffect, useRef } from 'react';\n\ninterface Config {\n  startNow?: boolean;\n}\nexport function useInterval(\n  callback: () => void,\n  delay: number,\n  config: Config = { startNow: true }\n) {\n  const intervalRef = useRef<number>();\n  const callbackRef = useRef<() => void>();\n\n  useEffect(() => {\n    callbackRef.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    if (typeof delay === 'number') {\n      config.startNow && callbackRef.current && callbackRef.current();\n      intervalRef.current = window.setInterval(\n        () => callbackRef.current && callbackRef.current(),\n        delay\n      );\n\n      return () => window.clearInterval(intervalRef.current);\n    }\n\n    return () => {\n      return;\n    };\n  }, [config.startNow, delay]);\n\n  return intervalRef;\n}\n\nexport default useInterval;\n","import { useRef, useEffect, useCallback } from 'react';\n\nexport const useIsMounted = (): (() => boolean) => {\n  const ref = useRef(false);\n\n  useEffect(() => {\n    ref.current = true;\n    return () => {\n      ref.current = false;\n    };\n  }, []);\n\n  return useCallback(() => ref.current, [ref]);\n};\n\nexport default useIsMounted;\n","import { useEffect, useRef } from 'react';\n\nexport const useTimeout = (\n  callback: () => void,\n  delay: number,\n  reset = false\n) => {\n  const savedCallback = useRef<() => void>();\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    function tick() {\n      savedCallback.current && savedCallback.current();\n    }\n    if (delay !== null && reset) {\n      const id = setTimeout(tick, delay);\n      return () => clearTimeout(id);\n    }\n    return () => {\n      return;\n    };\n  }, [delay, reset]);\n};\n","export * from './lib/virtual-rotator';\n","import {\n  setDialAngleChange,\n  useRotatorContext,\n} from '@virtue-equi/equi-shared-features';\nimport { useTimeout } from '@virtue-equi/equi/shared/utils/hooks';\nimport { calcAngle } from '@virtue-equi/equi/shell/utils';\nimport React, { useEffect, useRef, useState } from 'react';\n\n// Button timing variables\nconst DCgap = 250; // max ms between clicks for a double click event\nconst holdTime = 500; // ms hold period: how long to wait for press+hold event\n\nexport function VirtualRotator() {\n  const { handleClick } = useRotatorContext();\n  const [mouseInside, setMouseInside] = useState(false);\n  const [click, setClick] = useState(false);\n  const lastMouseDownTime = useRef<number | undefined>();\n  const lastMouseUpTime = useRef<number | undefined>();\n  const lastClickTimeout = useRef<number | undefined>();\n\n  // Simulate button hold behaviour\n  useTimeout(() => handleClick('holdEvent'), holdTime, click);\n\n  // Simulate single and double click behaviour\n  useEffect(() => {\n    const now = Date.now();\n    if (click) {\n      lastMouseDownTime.current = now;\n    } else if (lastMouseDownTime.current) {\n      if (lastMouseUpTime.current && now - lastMouseUpTime.current <= DCgap) {\n        handleClick('doubleClickEvent');\n        clearTimeout(lastClickTimeout.current);\n      } else if (now - lastMouseDownTime.current < holdTime) {\n        lastClickTimeout.current = setTimeout(() => {\n          handleClick('clickEvent');\n          clearTimeout(lastClickTimeout.current);\n          lastClickTimeout.current = undefined;\n        }, DCgap) as unknown as number;\n      }\n      lastMouseUpTime.current = now;\n    }\n  }, [click, handleClick]);\n\n  const onMouseMove: React.MouseEventHandler<SVGCircleElement> = (ev) => {\n    if (mouseInside && ev.buttons === 1) {\n      const rect = ev.currentTarget.getBoundingClientRect();\n      const cx = rect.height / 2;\n      const cy = rect.width / 2;\n      const x = ev.clientX - rect.left;\n      const y = ev.clientY - rect.top;\n\n      const dx = x - cx;\n      const dy = cy - y;\n\n      let angle = calcAngle(dx, dy) + 0;\n      if (dx >= 0 && dy <= 0) {\n        angle = calcAngle(dy, dx) + 90;\n      } else if (dx <= 0) {\n        if (dy <= 0) {\n          angle = calcAngle(dx, dy) + 180;\n        } else {\n          angle = calcAngle(dy, dx) + 270;\n        }\n      }\n\n      setDialAngleChange(angle);\n    }\n  };\n\n  return (\n    <g>\n      <circle\n        onMouseMove={onMouseMove}\n        onMouseEnter={() => setMouseInside(true)}\n        onMouseLeave={() => setMouseInside(false)}\n        r={200}\n        cx=\"540\"\n        cy=\"540\"\n        fill=\"black\"\n      />\n      <circle\n        cx=\"540\"\n        cy=\"540\"\n        r=\"80\"\n        fill=\"gray\"\n        onMouseDown={() => setClick(true)}\n        onMouseUp={() => setClick(false)}\n      />\n    </g>\n  );\n}\n\nexport default VirtualRotator;\n","export * from './lib/calc-angle';\n","export const calcAngle = (opposite: number, adjacent: number) => {\n  return (Math.atan(Math.abs(opposite) / Math.abs(adjacent)) * 180) / Math.PI;\n};\n","export * from './lib/standby';\n","import { useBatteryStatus } from '@virtue-equi/equi-shared-features';\nimport { BatteryBubble, BatteryWave } from '@virtue-equi/equi/standby/ui';\nimport './standby.css';\n\nexport function Standby() {\n  const { percent, status } = useBatteryStatus();\n\n  return (\n    <g>\n      <BatteryWave battery={percent} />\n      <BatteryBubble isConsuming={status !== 'charging'} />\n    </g>\n  );\n}\n\nexport default Standby;\n","export * from './lib/battery-bubble/battery-bubble';\nexport * from './lib/battery-wave/battery-wave';\nexport * from './lib/bubble/bubble';\n","import { memo } from 'react';\nimport { Bubble } from '@virtue-equi/equi/standby/ui';\n\nexport interface BatteryBubbleProps {\n  isConsuming: boolean;\n}\n\nexport const BatteryBubble = memo<BatteryBubbleProps>(\n  function (props: BatteryBubbleProps) {\n    const { isConsuming } = props;\n\n    return (\n      <g>\n        {Array(10)\n          .fill(1)\n          .map((_, i) => (\n            <Bubble\n              key={i}\n              name={`bubble${i}`}\n              isConsuming={isConsuming}\n              delay={Math.random() * 10 + i}\n            />\n          ))}\n      </g>\n    );\n  },\n  (prev, next) => prev.isConsuming === next.isConsuming\n);\n\nexport default BatteryBubble;\n","import { gradientMapper } from '@virtue-equi/equi/standby/utils';\nimport { CSSProperties, memo } from 'react';\n\n/* eslint-disable-next-line */\nexport interface BatteryWaveProps {\n  battery: number;\n}\n\nexport function BatteryWave(props: BatteryWaveProps) {\n  const { battery } = props;\n  const waveHeight = 1080 * (1 - (battery * 0.8) / 100);\n  const waveColor =\n    battery <= 60\n      ? gradientMapper('#e24c3a', '#f4e696', battery / 60)\n      : gradientMapper('#f4e696', '#b3d898', (battery - 60) / 40);\n\n  return (\n    <g style={{ '--wave-height': `${waveHeight}px` } as CSSProperties}>\n      <defs>\n        <linearGradient\n          id=\"bubbleFill\"\n          x1=\"50%\"\n          y1={`${0}`}\n          x2=\"50%\"\n          y2={`${waveHeight + 200}`}\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop\n            offset={1 - 100 / waveHeight}\n            stopColor={waveColor}\n            stopOpacity=\"1\"\n          />\n          <stop offset=\"1\" stopColor={waveColor} stopOpacity=\"0\" />\n        </linearGradient>\n      </defs>\n\n      <clipPath id=\"wave1ClipPath\" width=\"1080\" height=\"1080\" className=\"wave1\">\n        <path d=\"M556 13C393.6 -35.8 79 71.6666 -58 131.5L-149.5 1074.5L429 1309.5L1031.5 1121.5C1094.17 953.5 1197.8 59.6 1111 84C1002.5 114.5 759 74 556 13Z\" />\n      </clipPath>\n      <clipPath id=\"wave2ClipPath\" width=\"1080\" height=\"1080\" className=\"wave2\">\n        <path d=\"M383.5 97C122.3 17 -15 29.6667 -51 46L-0.5 1097.5L444.5 1346L1099 1131L1123 0.5C985.333 66 644.7 177 383.5 97Z\" />\n      </clipPath>\n      <defs>\n        <linearGradient\n          id=\"wave1Fill\"\n          x1=\"50%\"\n          y1={`${62 + waveHeight}`}\n          x2=\"50%\"\n          y2={`${845 + waveHeight}`}\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stopColor={waveColor} stopOpacity=\"0.3\" />\n          <stop offset=\"1\" stopColor={waveColor} />\n        </linearGradient>\n      </defs>\n      <defs>\n        <linearGradient\n          id=\"wave2Fill\"\n          x1=\"50%\"\n          y1={`${845 + waveHeight}`}\n          x2=\"50%\"\n          y2={`${waveHeight - 87}`}\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stopColor={waveColor} />\n          <stop offset=\"1\" stopColor={waveColor} stopOpacity=\"0.2\" />\n        </linearGradient>\n      </defs>\n      <rect\n        x={0}\n        y={0}\n        width={1080}\n        height={1080}\n        fill=\"url(#wave1Fill)\"\n        mask=\"url(#mask0)\"\n        clipPath=\"url(#wave2ClipPath)\"\n      />\n      <rect\n        x={0}\n        y={0}\n        width={1080}\n        height={1080}\n        fill=\"url(#wave2Fill)\"\n        mask=\"url(#mask0)\"\n        clipPath=\"url(#wave1ClipPath)\"\n      />\n    </g>\n  );\n}\n\nexport default memo<BatteryWaveProps>(\n  BatteryWave,\n  (prev, next) => prev.battery === next.battery\n);\n","import { motion, useAnimation } from 'framer-motion';\nimport { memo, useEffect, useMemo, useState } from 'react';\n\nexport interface BubbleProps {\n  name: string;\n  isConsuming: boolean;\n  x?: number;\n  delay?: number;\n}\n\nexport function Bubble(props: BubbleProps) {\n  const { name, isConsuming, x = Math.random() * 1080, delay = 0 } = props;\n  const y = useMemo(() => (!isConsuming ? [0, 1080 + 100] : [1080 + 100, 0]), [\n    isConsuming,\n  ]);\n  const [r, setR] = useState(Math.random() * 20 + 10);\n  const control = useAnimation();\n\n  useEffect(() => {\n    control\n      .start({\n        y,\n        transition: {\n          delay,\n          duration: 9,\n          ease: 'linear',\n        },\n      })\n      .then(() => {\n        control.stop();\n        setR(Math.random() * 20 + 10);\n      });\n  }, [control, delay, r, y]);\n\n  return (\n    <g>\n      <clipPath id={name} width=\"1080\" height=\"1080\">\n        <motion.circle\n          r={r}\n          cx=\"0\"\n          cy=\"0\"\n          style={{ x, y: 2000 }}\n          animate={control}\n        />\n      </clipPath>\n      <rect\n        width={1080}\n        height={1080}\n        fill=\"url(#bubbleFill)\"\n        mask=\"url(#mask0)\"\n        clipPath={`url(#${name})`}\n      />\n    </g>\n  );\n}\n\nexport default Bubble;\n","export * from './lib/gradient-mapper';\n","export const gradientMapper = (\n  start_color: string,\n  end_color: string,\n  percent: number\n) => {\n  // strip the leading # if it's there\n  start_color = start_color.replace(/^\\s*#|\\s*$/g, '');\n  end_color = end_color.replace(/^\\s*#|\\s*$/g, '');\n\n  // convert 3 char codes --> 6, e.g. `E0F` --> `EE00FF`\n  if (start_color.length === 3) {\n    start_color = start_color.replace(/(.)/g, '$1$1');\n  }\n\n  if (end_color.length === 3) {\n    end_color = end_color.replace(/(.)/g, '$1$1');\n  }\n\n  // get colors\n  const start_red = parseInt(start_color.substr(0, 2), 16),\n    start_green = parseInt(start_color.substr(2, 2), 16),\n    start_blue = parseInt(start_color.substr(4, 2), 16);\n\n  const end_red = parseInt(end_color.substr(0, 2), 16),\n    end_green = parseInt(end_color.substr(2, 2), 16),\n    end_blue = parseInt(end_color.substr(4, 2), 16);\n\n  // calculate new color\n  let diff_red: number | string = end_red - start_red;\n  let diff_green: number | string = end_green - start_green;\n  let diff_blue: number | string = end_blue - start_blue;\n\n  diff_red = (diff_red * percent + start_red).toString(16).split('.')[0];\n  diff_green = (diff_green * percent + start_green).toString(16).split('.')[0];\n  diff_blue = (diff_blue * percent + start_blue).toString(16).split('.')[0];\n\n  // ensure 2 digits by color\n  if (diff_red.length === 1) diff_red = '0' + diff_red;\n  if (diff_green.length === 1) diff_green = '0' + diff_green;\n  if (diff_blue.length === 1) diff_blue = '0' + diff_blue;\n\n  return '#' + diff_red + diff_green + diff_blue;\n};\n","module.exports = [[module.id, \".App {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: calc(100vw);\\n  height: calc(100vh);\\n}\\n\", '', {\"version\":3,\"sources\":[\"/home/runner/work/equi-webapp/equi-webapp/apps/equi/src/app/App.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,kBAAkB;EAClB,mBAAmB;AACrB\",\"sourcesContent\":[\".App {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: calc(100vw);\\n  height: calc(100vh);\\n}\\n\"],\"sourceRoot\":\"\"}]]","module.exports = [[module.id, \".wave1 {\\n  -webkit-animation: wave1 3s cubic-bezier(0.36, 0.45, 0.63, 0.53) infinite;\\n          animation: wave1 3s cubic-bezier(0.36, 0.45, 0.63, 0.53) infinite;\\n  transform: translateY(0);\\n}\\n\\n.wave2 {\\n  -webkit-animation: wave2 3s cubic-bezier(0.36, 0.45, 0.63, 0.53) infinite;\\n          animation: wave2 3s cubic-bezier(0.36, 0.45, 0.63, 0.53) infinite;\\n  transform: translateY(0);\\n}\\n\\n@-webkit-keyframes wave1 {\\n  0%,\\n  100% {\\n    transform: translate(-40px, var(--wave-height));\\n  }\\n  50% {\\n    transform: translate(40px, var(--wave-height));\\n  }\\n}\\n\\n@keyframes wave1 {\\n  0%,\\n  100% {\\n    transform: translate(-40px, var(--wave-height));\\n  }\\n  50% {\\n    transform: translate(40px, var(--wave-height));\\n  }\\n}\\n\\n@-webkit-keyframes wave2 {\\n  0%,\\n  100% {\\n    transform: translate(40px, var(--wave-height));\\n  }\\n  50% {\\n    transform: translate(-40px, var(--wave-height));\\n  }\\n}\\n\\n@keyframes wave2 {\\n  0%,\\n  100% {\\n    transform: translate(40px, var(--wave-height));\\n  }\\n  50% {\\n    transform: translate(-40px, var(--wave-height));\\n  }\\n}\\n\", '', {\"version\":3,\"sources\":[\"/home/runner/work/equi-webapp/equi-webapp/libs/equi/standby/feature/src/lib/standby.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,yEAAiE;UAAjE,iEAAiE;EACjE,wBAAwB;AAC1B;;AAEA;EACE,yEAAiE;UAAjE,iEAAiE;EACjE,wBAAwB;AAC1B;;AAEA;EACE;;IAEE,+CAA+C;EACjD;EACA;IACE,8CAA8C;EAChD;AACF;;AARA;EACE;;IAEE,+CAA+C;EACjD;EACA;IACE,8CAA8C;EAChD;AACF;;AAEA;EACE;;IAEE,8CAA8C;EAChD;EACA;IACE,+CAA+C;EACjD;AACF;;AARA;EACE;;IAEE,8CAA8C;EAChD;EACA;IACE,+CAA+C;EACjD;AACF\",\"sourcesContent\":[\".wave1 {\\n  animation: wave1 3s cubic-bezier(0.36, 0.45, 0.63, 0.53) infinite;\\n  transform: translateY(0);\\n}\\n\\n.wave2 {\\n  animation: wave2 3s cubic-bezier(0.36, 0.45, 0.63, 0.53) infinite;\\n  transform: translateY(0);\\n}\\n\\n@keyframes wave1 {\\n  0%,\\n  100% {\\n    transform: translate(-40px, var(--wave-height));\\n  }\\n  50% {\\n    transform: translate(40px, var(--wave-height));\\n  }\\n}\\n\\n@keyframes wave2 {\\n  0%,\\n  100% {\\n    transform: translate(40px, var(--wave-height));\\n  }\\n  50% {\\n    transform: translate(-40px, var(--wave-height));\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]]","// extracted by mini-css-extract-plugin\nexport {};","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/@nrwl/web/src/utils/webpack/plugins/raw-css-loader.js!../../../../node_modules/@nrwl/web/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].oneOf[4].use[2]!./App.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/@nrwl/web/src/utils/webpack/plugins/raw-css-loader.js!../../../../node_modules/@nrwl/web/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].oneOf[4].use[2]!./App.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/@nrwl/web/src/utils/webpack/plugins/raw-css-loader.js!../../../../../../node_modules/@nrwl/web/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].oneOf[4].use[2]!./standby.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/@nrwl/web/src/utils/webpack/plugins/raw-css-loader.js!../../../../../../node_modules/@nrwl/web/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[2].oneOf[4].use[2]!./standby.css\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":["RotatorProvider","Appliances","Menu","Scheduler","VirtualRotator","Standby","BrowserRouter","Router","Redirect","Route","Switch","App","process","env","NX_EQUI_BASENAME","React","ReactDOM","render","document","getElementById","useDialAngle","ApplianceBubble","arrangeAppliances","DataBubble","useEffect","useRef","useState","appliances","props","balls","setBalls","dialPosition","active","setActive","pDialPosition","b","diff","current","Math","abs","newActive","length","power_consumption","map","x","y","r","type","i","device_type","Array","fill","_","index","id","floor","random","time_start","Date","time_end","size","getDeviceIcon","iconRadius","setIconRadius","transform","isCollision","curr","ball","dx","dy","d","sqrt","rr","reduce","acc","a","angle","asin","PI","sin","cos","buttonClicked$","ApplianceButton","CloseButton","ScheduleButton","useHistory","history","clickedSubscriber","subscribe","push","unsubscribe","pos","onClick","EnergyButton","bind","createSignal","dialAngle$","isScheduling$","BehaviorSubject","combineLatest","distinctUntilChanged","filter","merge","tap","withLatestFrom","APPLIANCE_ACTIVE_THRESHOLD","APPLIANCE_DEFAULT_RADIOUS","APPLIANCE_ACTIVE_RADIOUS","scheduleAppliance$","setScheduleAppliance","next","onActiveAppliance$","setActiveAppliance","useActiveAppliance","activeAppliance$","onScheduleAppliance","pipe","appliance","scheduleAppliance","applianceUpdate$","isScheduling","value","useApplianceState","applianceState$","initPosition","dialAngle","radious","position","getApplianceInitPosition","prev","buttonHolded$","useIsScheduling","useDialTimeTextAngle","scheduled_item_data","general_energy_data","total_solar_production","total_consumption","battery_level","Subscribe","setDialAngleChange","Appliance","AppliancePowerConsumption","ApplianceSchedule","BatteryLevel","DialCursor","DialSchedule","DialTimeText","PowerConsumption","PowerProduction","memo","useLayoutEffect","SchedulerPolar","item","undefined","useEnphaseSeries","Polar","battery","production","consumption","powerConsumption","timePrettier","timeStart","currentTime","t","hour","getHours","min","getMinutes","setHours","dateToAngle","getApplianceTimeRange","useMemo","threshold","defaultSize","activeGrow","toUpperCase","useBatteryStatus","percent","status","angleToTime","TextClock","dialRightBoundary","dialLeftBoundary","dialAppear","setDialAppear","pathGenerator","name","data","children","rest","max","usePowerConsumptionStatus","usePowerProductionStatus","useClock","clock","minute","toString","padStart","date","from","to","smoothing","line","pointA","pointB","lengthX","lengthY","pow","atan2","controlPoint","previous","reverse","p","n","o","bezierCommand","point","cps","cpe","svgPath","points","command","path","hypotenuse","time","options","hour12","toLocaleTimeString","navigator","language","getPowerStatus","res","fetch","NX_LIBRIUM_URL","ok","json","getEnphaseSeries","interval","digitFormat","getCurrentTime","now","clock$","catchError","concatMap","EMPTY","pluck","throttleTime","timer","UPDATE_POWER_STATE_INTERVAL","initBatteryState","usePowerStatus","powerStatus$","toFixed","initialEnphaseSeries","enphaseSeries$","response","minConsumption","minProduction","createContext","useContext","initial","handleClick","RotatorContext","useRotatorContext","debounceTime","scan","onButtonClicked","onButtonHolded","dialRotate$","setDialRotate","dialAngleChange$","useCallback","wsUri","webSocket","setDialPosition","connected","setConnected","event","console","log","WebSocket","onopen","_evt","onclose","onmessage","evt","onerror","error","close","text","gradientColor","icon","textX","textLength","devices","Audio","Dishwasher","Completed","Oven","Television","device","prefix","useInterval","callback","delay","config","startNow","intervalRef","callbackRef","window","setInterval","clearInterval","useIsMounted","ref","useTimeout","reset","savedCallback","tick","setTimeout","clearTimeout","calcAngle","DCgap","holdTime","mouseInside","setMouseInside","click","setClick","lastMouseDownTime","lastMouseUpTime","lastClickTimeout","onMouseMove","ev","buttons","rect","currentTarget","getBoundingClientRect","cx","height","cy","width","clientX","left","clientY","top","opposite","adjacent","atan","BatteryBubble","BatteryWave","Bubble","isConsuming","gradientMapper","waveHeight","waveColor","motion","useAnimation","setR","control","start","transition","duration","ease","then","stop","start_color","end_color","replace","start_red","parseInt","substr","start_green","start_blue","end_red","end_green","end_blue","diff_red","diff_green","diff_blue","split"],"sourceRoot":""}